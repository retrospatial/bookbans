import{s as ke,e as q,u as Oe,V as Rf,c as O,f as M,p as y,h as H,n as _e,Y as ht,g as j,m as Fe,w as gn,k as U,ad as Q,a7 as vo,B as ii,b as X,H as dn,x as ye,a6 as Nf,C as oi,D as ai,E as li,y as ko,$ as se,a0 as ce,a8 as tr,t as Je,d as $e,j as St,a4 as He,l as ee,o as te,X as pe,W as Bo,r as gt,ae as Ca}from"../chunks/scheduler.DAq1fKDh.js";import{S as Se,i as Me,t as B,g as Go,b as Z,e as Vo,c as ie,a as oe,m as ae,d as le,h as Ra,j as zf}from"../chunks/index.kHLUnJvl.js";import{e as De}from"../chunks/each.D6YF6ztN.js";import{d as Af,i as Pf,a as Uf}from"../chunks/transform.BlsIJhB7.js";import"../chunks/index.BH5Oeftf.js";import{w as G,d as he}from"../chunks/index.Cff5wDf0.js";function Na(e,t,n){const r=e.slice();return r[5]=t[n],r}function za(e){let t,n;return{c(){t=q("link"),this.h()},l(r){t=O(r,"LINK",{rel:!0,href:!0,as:!0,type:!0,crossorigin:!0}),this.h()},h(){y(t,"rel","preload"),y(t,"href",n=e[5]),y(t,"as","font"),y(t,"type","font/woff2"),y(t,"crossorigin","")},m(r,i){j(r,t,i)},p(r,i){i&16&&n!==(n=r[5])&&y(t,"href",n)},d(r){r&&M(t)}}}function Lf(e){let t,n,r,i,o,l,a,c,s,u,f,g,h,d,p,v,D,S,w,k,x,b,N,P,L,C;document.title=t=e[0];let T=De(e[4]),R=[];for(let A=0;A<T.length;A+=1)R[A]=za(Na(e,T,A));return{c(){n=q("meta"),r=q("meta"),i=q("meta"),o=q("meta"),l=q("meta"),a=q("meta"),c=q("meta"),s=q("meta"),u=q("meta"),f=q("meta"),h=q("meta"),d=q("meta"),p=q("meta"),v=q("meta"),D=q("meta"),S=q("meta"),w=q("meta"),k=q("meta"),x=q("meta"),N=q("meta"),P=q("link");for(let A=0;A<R.length;A+=1)R[A].c();C=Oe(),this.h()},l(A){const z=Rf("svelte-2pghky",document.head);n=O(z,"META",{name:!0,content:!0}),r=O(z,"META",{name:!0,content:!0}),i=O(z,"META",{name:!0,content:!0}),o=O(z,"META",{property:!0,content:!0}),l=O(z,"META",{property:!0,content:!0}),a=O(z,"META",{property:!0,content:!0}),c=O(z,"META",{property:!0,content:!0}),s=O(z,"META",{property:!0,content:!0}),u=O(z,"META",{property:!0,content:!0}),f=O(z,"META",{property:!0,content:!0}),h=O(z,"META",{property:!0,content:!0}),d=O(z,"META",{property:!0,content:!0}),p=O(z,"META",{property:!0,content:!0}),v=O(z,"META",{name:!0,content:!0}),D=O(z,"META",{name:!0,content:!0}),S=O(z,"META",{name:!0,content:!0}),w=O(z,"META",{name:!0,content:!0}),k=O(z,"META",{name:!0,content:!0}),x=O(z,"META",{name:!0,content:!0}),N=O(z,"META",{name:!0,content:!0}),P=O(z,"LINK",{rel:!0,href:!0});for(let _=0;_<R.length;_+=1)R[_].l(z);C=Oe(),z.forEach(M),this.h()},h(){y(n,"name","description"),y(n,"content",e[1]),y(r,"name","author"),y(r,"content","The Pudding"),y(i,"name","news_keywords"),y(i,"content",e[3]),y(o,"property","og:title"),y(o,"content",e[0]),y(l,"property","og:site_name"),y(l,"content","The Pudding"),y(a,"property","og:url"),y(a,"content",e[2]),y(c,"property","og:description"),y(c,"content",e[1]),y(s,"property","og:type"),y(s,"content","article"),y(u,"property","og:locale"),y(u,"content","en_US"),y(f,"property","og:image"),y(f,"content",g=e[2]+"/assets/social-facebook.jpg"),y(h,"property","og:image:type"),y(h,"content","image/jpeg"),y(d,"property","og:image:width"),y(d,"content","1200"),y(p,"property","og:image:height"),y(p,"content","628"),y(v,"name","twitter:card"),y(v,"content","summary_large_image"),y(D,"name","twitter:site"),y(D,"content","https://pudding.cool"),y(S,"name","twitter:creator"),y(S,"content","@puddingviz"),y(w,"name","twitter:title"),y(w,"content",e[0]),y(k,"name","twitter:description"),y(k,"content",e[1]),y(x,"name","twitter:image:src"),y(x,"content",b=e[2]+"/assets/social-twitter.jpg"),y(N,"name","robots"),y(N,"content","max-image-preview:large"),y(P,"rel","canonical"),y(P,"href",L=e[2]+"/")},m(A,z){H(document.head,n),H(document.head,r),H(document.head,i),H(document.head,o),H(document.head,l),H(document.head,a),H(document.head,c),H(document.head,s),H(document.head,u),H(document.head,f),H(document.head,h),H(document.head,d),H(document.head,p),H(document.head,v),H(document.head,D),H(document.head,S),H(document.head,w),H(document.head,k),H(document.head,x),H(document.head,N),H(document.head,P);for(let _=0;_<R.length;_+=1)R[_]&&R[_].m(document.head,null);H(document.head,C)},p(A,[z]){if(z&1&&t!==(t=A[0])&&(document.title=t),z&2&&y(n,"content",A[1]),z&8&&y(i,"content",A[3]),z&1&&y(o,"content",A[0]),z&4&&y(a,"content",A[2]),z&2&&y(c,"content",A[1]),z&4&&g!==(g=A[2]+"/assets/social-facebook.jpg")&&y(f,"content",g),z&1&&y(w,"content",A[0]),z&2&&y(k,"content",A[1]),z&4&&b!==(b=A[2]+"/assets/social-twitter.jpg")&&y(x,"content",b),z&4&&L!==(L=A[2]+"/")&&y(P,"href",L),z&16){T=De(A[4]);let _;for(_=0;_<T.length;_+=1){const I=Na(A,T,_);R[_]?R[_].p(I,z):(R[_]=za(I),R[_].c(),R[_].m(C.parentNode,C))}for(;_<R.length;_+=1)R[_].d(1);R.length=T.length}},i:_e,o:_e,d(A){M(n),M(r),M(i),M(o),M(l),M(a),M(c),M(s),M(u),M(f),M(h),M(d),M(p),M(v),M(D),M(S),M(w),M(k),M(x),M(N),M(P),ht(R,A),M(C)}}}function Ff(e,t,n){let{title:r="Title TK"}=t,{description:i="Description TK"}=t,{url:o="https://pudding.cool"}=t,{keywords:l=""}=t,{preloadFont:a=[]}=t;return e.$$set=c=>{"title"in c&&n(0,r=c.title),"description"in c&&n(1,i=c.description),"url"in c&&n(2,o=c.url),"keywords"in c&&n(3,l=c.keywords),"preloadFont"in c&&n(4,a=c.preloadFont)},[r,i,o,l,a]}class Hf extends Se{constructor(t){super(),Me(this,t,Ff,Lf,ke,{title:0,description:1,url:2,keywords:3,preloadFont:4})}}function jf(e){let t,n="<h1>Who&#39;s Behind the Book Bans?</h1> <p>We analyze the recent surge in ‘parental rights’ groups and their growing role in driving local and nationwide book bans.</p>";return{c(){t=q("div"),t.innerHTML=n,this.h()},l(r){t=O(r,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),Fe(t)!=="svelte-vv150i"&&(t.innerHTML=n),this.h()},h(){y(t,"id","intro"),y(t,"class","svelte-12xmcps")},m(r,i){j(r,t,i)},p:_e,i:_e,o:_e,d(r){r&&M(t)}}}class If extends Se{constructor(t){super(),Me(this,t,null,jf,ke,{})}}function Vn(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function du(e){let t,n,r;e.length!==2?(t=Vn,n=(a,c)=>Vn(e(a),c),r=(a,c)=>e(a)-c):(t=e===Vn||e===Af?e:Wf,n=e,r=e);function i(a,c,s=0,u=a.length){if(s<u){if(t(c,c)!==0)return u;do{const f=s+u>>>1;n(a[f],c)<0?s=f+1:u=f}while(s<u)}return s}function o(a,c,s=0,u=a.length){if(s<u){if(t(c,c)!==0)return u;do{const f=s+u>>>1;n(a[f],c)<=0?s=f+1:u=f}while(s<u)}return s}function l(a,c,s=0,u=a.length){const f=i(a,c,s,u-1);return f>s&&r(a[f-1],c)>-r(a[f],c)?f-1:f}return{left:i,center:l,right:o}}function Wf(){return 0}function Yf(e){return e===null?NaN:+e}const qf=du(Vn),mu=qf.right;du(Yf).center;function Of(e,t){let n=0;for(let r of e)r!=null&&(r=+r)>=r&&++n;return n}function ct(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}class _t{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=n[i],l=t+o,a=Math.abs(t)<Math.abs(o)?t-(l-o):o-(l-t);a&&(n[r++]=a),t=l}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,o,l=0;if(n>0){for(l=t[--n];n>0&&(r=l,i=t[--n],l=r+i,o=i-(l-r),!o););n>0&&(o<0&&t[n-1]<0||o>0&&t[n-1]>0)&&(i=o*2,r=l+i,i==r-l&&(l=r))}return l}}var Bf=Array.prototype,Gf=Bf.slice;function oo(e){return()=>e}const Vf=Math.sqrt(50),Zf=Math.sqrt(10),Xf=Math.sqrt(2);function gi(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),l=o>=Vf?10:o>=Zf?5:o>=Xf?2:1;let a,c,s;return i<0?(s=Math.pow(10,-i)/l,a=Math.round(e*s),c=Math.round(t*s),a/s<e&&++a,c/s>t&&--c,s=-s):(s=Math.pow(10,i)*l,a=Math.round(e/s),c=Math.round(t/s),a*s<e&&++a,c*s>t&&--c),c<a&&.5<=n&&n<2?gi(e,t,n*2):[a,c,s]}function yu(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,l]=r?gi(t,e,n):gi(e,t,n);if(!(o>=i))return[];const a=o-i+1,c=new Array(a);if(r)if(l<0)for(let s=0;s<a;++s)c[s]=(o-s)/-l;else for(let s=0;s<a;++s)c[s]=(o-s)*l;else if(l<0)for(let s=0;s<a;++s)c[s]=(i+s)/-l;else for(let s=0;s<a;++s)c[s]=(i+s)*l;return c}function on(e,t,n){return t=+t,e=+e,n=+n,gi(e,t,n)[2]}function Qf(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?on(t,e,n):on(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Kf(e,t,n){let r;for(;;){const i=on(e,t,n);if(i===r||i===0||!isFinite(i))return[e,t];i>0?(e=Math.floor(e/i)*i,t=Math.ceil(t/i)*i):i<0&&(e=Math.ceil(e*i)/i,t=Math.floor(t*i)/i),r=i}}function Jf(e){return Math.max(1,Math.ceil(Math.log(Of(e))/Math.LN2)+1)}function $f(){var e=Pf,t=ct,n=Jf;function r(i){Array.isArray(i)||(i=Array.from(i));var o,l=i.length,a,c,s=new Array(l);for(o=0;o<l;++o)s[o]=e(i[o],o,i);var u=t(s),f=u[0],g=u[1],h=n(s,f,g);if(!Array.isArray(h)){const w=g,k=+h;if(t===ct&&([f,g]=Kf(f,g,k)),h=yu(f,g,k),h[0]<=f&&(c=on(f,g,k)),h[h.length-1]>=g)if(w>=g&&t===ct){const x=on(f,g,k);isFinite(x)&&(x>0?g=(Math.floor(g/x)+1)*x:x<0&&(g=(Math.ceil(g*-x)+1)/-x))}else h.pop()}for(var d=h.length,p=0,v=d;h[p]<=f;)++p;for(;h[v-1]>g;)--v;(p||v<d)&&(h=h.slice(p,v),d=v-p);var D=new Array(d+1),S;for(o=0;o<=d;++o)S=D[o]=[],S.x0=o>0?h[o-1]:f,S.x1=o<d?h[o]:g;if(isFinite(c)){if(c>0)for(o=0;o<l;++o)(a=s[o])!=null&&f<=a&&a<=g&&D[Math.min(d,Math.floor((a-f)/c))].push(i[o]);else if(c<0){for(o=0;o<l;++o)if((a=s[o])!=null&&f<=a&&a<=g){const w=Math.floor((f-a)*c);D[Math.min(d,w+(h[w]<=a))].push(i[o])}}}else for(o=0;o<l;++o)(a=s[o])!=null&&f<=a&&a<=g&&D[mu(h,a,0,d)].push(i[o]);return D}return r.value=function(i){return arguments.length?(e=typeof i=="function"?i:oo(i),r):e},r.domain=function(i){return arguments.length?(t=typeof i=="function"?i:oo([i[0],i[1]]),r):t},r.thresholds=function(i){return arguments.length?(n=typeof i=="function"?i:oo(Array.isArray(i)?Gf.call(i):i),r):n},r}function di(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function*es(e){for(const t of e)yield*t}function pu(e){return Array.from(es(e))}function Zo(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function _u(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function nr(){}var Zn=.7,mi=1/Zn,rn="\\s*([+-]?\\d+)\\s*",Xn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",it="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ts=/^#([0-9a-f]{3,8})$/,ns=new RegExp(`^rgb\\(${rn},${rn},${rn}\\)$`),rs=new RegExp(`^rgb\\(${it},${it},${it}\\)$`),is=new RegExp(`^rgba\\(${rn},${rn},${rn},${Xn}\\)$`),os=new RegExp(`^rgba\\(${it},${it},${it},${Xn}\\)$`),as=new RegExp(`^hsl\\(${Xn},${it},${it}\\)$`),ls=new RegExp(`^hsla\\(${Xn},${it},${it},${Xn}\\)$`),Aa={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Zo(nr,Qn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Pa,formatHex:Pa,formatHex8:us,formatHsl:fs,formatRgb:Ua,toString:Ua});function Pa(){return this.rgb().formatHex()}function us(){return this.rgb().formatHex8()}function fs(){return bu(this).formatHsl()}function Ua(){return this.rgb().formatRgb()}function Qn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=ts.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?La(t):n===3?new Ae(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Br(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Br(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=ns.exec(e))?new Ae(t[1],t[2],t[3],1):(t=rs.exec(e))?new Ae(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=is.exec(e))?Br(t[1],t[2],t[3],t[4]):(t=os.exec(e))?Br(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=as.exec(e))?ja(t[1],t[2]/100,t[3]/100,1):(t=ls.exec(e))?ja(t[1],t[2]/100,t[3]/100,t[4]):Aa.hasOwnProperty(e)?La(Aa[e]):e==="transparent"?new Ae(NaN,NaN,NaN,0):null}function La(e){return new Ae(e>>16&255,e>>8&255,e&255,1)}function Br(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ae(e,t,n,r)}function ss(e){return e instanceof nr||(e=Qn(e)),e?(e=e.rgb(),new Ae(e.r,e.g,e.b,e.opacity)):new Ae}function Kn(e,t,n,r){return arguments.length===1?ss(e):new Ae(e,t,n,r??1)}function Ae(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Zo(Ae,Kn,_u(nr,{brighter(e){return e=e==null?mi:Math.pow(mi,e),new Ae(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Zn:Math.pow(Zn,e),new Ae(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ae(pt(this.r),pt(this.g),pt(this.b),yi(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Fa,formatHex:Fa,formatHex8:cs,formatRgb:Ha,toString:Ha}));function Fa(){return`#${yt(this.r)}${yt(this.g)}${yt(this.b)}`}function cs(){return`#${yt(this.r)}${yt(this.g)}${yt(this.b)}${yt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ha(){const e=yi(this.opacity);return`${e===1?"rgb(":"rgba("}${pt(this.r)}, ${pt(this.g)}, ${pt(this.b)}${e===1?")":`, ${e})`}`}function yi(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function pt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function yt(e){return e=pt(e),(e<16?"0":"")+e.toString(16)}function ja(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ke(e,t,n,r)}function bu(e){if(e instanceof Ke)return new Ke(e.h,e.s,e.l,e.opacity);if(e instanceof nr||(e=Qn(e)),!e)return new Ke;if(e instanceof Ke)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),l=NaN,a=o-i,c=(o+i)/2;return a?(t===o?l=(n-r)/a+(n<r)*6:n===o?l=(r-t)/a+2:l=(t-n)/a+4,a/=c<.5?o+i:2-o-i,l*=60):a=c>0&&c<1?0:l,new Ke(l,a,c,e.opacity)}function hs(e,t,n,r){return arguments.length===1?bu(e):new Ke(e,t,n,r??1)}function Ke(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Zo(Ke,hs,_u(nr,{brighter(e){return e=e==null?mi:Math.pow(mi,e),new Ke(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Zn:Math.pow(Zn,e),new Ke(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Ae(ao(e>=240?e-240:e+120,i,r),ao(e,i,r),ao(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Ke(Ia(this.h),Gr(this.s),Gr(this.l),yi(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=yi(this.opacity);return`${e===1?"hsl(":"hsla("}${Ia(this.h)}, ${Gr(this.s)*100}%, ${Gr(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Ia(e){return e=(e||0)%360,e<0?e+360:e}function Gr(e){return Math.max(0,Math.min(1,e||0))}function ao(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}function gs(e,t,n,r,i){var o=e*e,l=o*e;return((1-3*e+3*o-l)*t+(4-6*o+3*l)*n+(1+3*e+3*o-3*l)*r+l*i)/6}function ds(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],l=r>0?e[r-1]:2*i-o,a=r<t-1?e[r+2]:2*o-i;return gs((n-r/t)*t,l,i,o,a)}}const Xo=e=>()=>e;function ms(e,t){return function(n){return e+n*t}}function ys(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function ps(e){return(e=+e)==1?wu:function(t,n){return n-t?ys(t,n,e):Xo(isNaN(t)?n:t)}}function wu(e,t){var n=t-e;return n?ms(e,n):Xo(isNaN(e)?t:e)}const Wa=function e(t){var n=ps(t);function r(i,o){var l=n((i=Kn(i)).r,(o=Kn(o)).r),a=n(i.g,o.g),c=n(i.b,o.b),s=wu(i.opacity,o.opacity);return function(u){return i.r=l(u),i.g=a(u),i.b=c(u),i.opacity=s(u),i+""}}return r.gamma=e,r}(1);function _s(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),o=new Array(n),l,a;for(l=0;l<n;++l)a=Kn(t[l]),r[l]=a.r||0,i[l]=a.g||0,o[l]=a.b||0;return r=e(r),i=e(i),o=e(o),a.opacity=1,function(c){return a.r=r(c),a.g=i(c),a.b=o(c),a+""}}}var bs=_s(ds);function ws(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function vs(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function ks(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),l;for(l=0;l<r;++l)i[l]=zi(e[l],t[l]);for(;l<n;++l)o[l]=t[l];return function(a){for(l=0;l<r;++l)o[l]=i[l](a);return o}}function Ss(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function pi(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Ms(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=zi(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var So=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lo=new RegExp(So.source,"g");function Ts(e){return function(){return e}}function xs(e){return function(t){return e(t)+""}}function Ds(e,t){var n=So.lastIndex=lo.lastIndex=0,r,i,o,l=-1,a=[],c=[];for(e=e+"",t=t+"";(r=So.exec(e))&&(i=lo.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),a[l]?a[l]+=o:a[++l]=o),(r=r[0])===(i=i[0])?a[l]?a[l]+=i:a[++l]=i:(a[++l]=null,c.push({i:l,x:pi(r,i)})),n=lo.lastIndex;return n<t.length&&(o=t.slice(n),a[l]?a[l]+=o:a[++l]=o),a.length<2?c[0]?xs(c[0].x):Ts(t):(t=c.length,function(s){for(var u=0,f;u<t;++u)a[(f=c[u]).i]=f.x(s);return a.join("")})}function zi(e,t){var n=typeof t,r;return t==null||n==="boolean"?Xo(t):(n==="number"?pi:n==="string"?(r=Qn(t))?(t=r,Wa):Ds:t instanceof Qn?Wa:t instanceof Date?Ss:vs(t)?ws:Array.isArray(t)?ks:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Ms:pi)(e,t)}function vu(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}const Mo=Math.PI,To=2*Mo,mt=1e-6,Es=To-mt;function ku(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Cs(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return ku;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Rs{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?ku:Cs(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,l){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+l}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,a=this._y1,c=r-t,s=i-n,u=l-t,f=a-n,g=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(g>mt)if(!(Math.abs(f*c-s*u)>mt)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-l,d=i-a,p=c*c+s*s,v=h*h+d*d,D=Math.sqrt(p),S=Math.sqrt(g),w=o*Math.tan((Mo-Math.acos((p+g-v)/(2*D*S)))/2),k=w/S,x=w/D;Math.abs(k-1)>mt&&this._append`L${t+k*u},${n+k*f}`,this._append`A${o},${o},0,0,${+(f*h>u*d)},${this._x1=t+x*c},${this._y1=n+x*s}`}}arc(t,n,r,i,o,l){if(t=+t,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),c=r*Math.sin(i),s=t+a,u=n+c,f=1^l,g=l?i-o:o-i;this._x1===null?this._append`M${s},${u}`:(Math.abs(this._x1-s)>mt||Math.abs(this._y1-u)>mt)&&this._append`L${s},${u}`,r&&(g<0&&(g=g%To+To),g>Es?this._append`A${r},${r},0,1,${f},${t-a},${n-c}A${r},${r},0,1,${f},${this._x1=s},${this._y1=u}`:g>mt&&this._append`A${r},${r},0,${+(g>=Mo)},${f},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}var Ya={},uo={},fo=34,Ln=10,so=13;function Su(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function Ns(e,t){var n=Su(e);return function(r,i){return t(n(r),i,e)}}function qa(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function ze(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function zs(e){return e<0?"-"+ze(-e,6):e>9999?"+"+ze(e,6):ze(e,4)}function As(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":zs(e.getUTCFullYear())+"-"+ze(e.getUTCMonth()+1,2)+"-"+ze(e.getUTCDate(),2)+(i?"T"+ze(t,2)+":"+ze(n,2)+":"+ze(r,2)+"."+ze(i,3)+"Z":r?"T"+ze(t,2)+":"+ze(n,2)+":"+ze(r,2)+"Z":n||t?"T"+ze(t,2)+":"+ze(n,2)+"Z":"")}function Ps(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(f,g){var h,d,p=i(f,function(v,D){if(h)return h(v,D-1);d=v,h=g?Ns(v,g):Su(v)});return p.columns=d||[],p}function i(f,g){var h=[],d=f.length,p=0,v=0,D,S=d<=0,w=!1;f.charCodeAt(d-1)===Ln&&--d,f.charCodeAt(d-1)===so&&--d;function k(){if(S)return uo;if(w)return w=!1,Ya;var b,N=p,P;if(f.charCodeAt(N)===fo){for(;p++<d&&f.charCodeAt(p)!==fo||f.charCodeAt(++p)===fo;);return(b=p)>=d?S=!0:(P=f.charCodeAt(p++))===Ln?w=!0:P===so&&(w=!0,f.charCodeAt(p)===Ln&&++p),f.slice(N+1,b-1).replace(/""/g,'"')}for(;p<d;){if((P=f.charCodeAt(b=p++))===Ln)w=!0;else if(P===so)w=!0,f.charCodeAt(p)===Ln&&++p;else if(P!==n)continue;return f.slice(N,b)}return S=!0,f.slice(N,d)}for(;(D=k())!==uo;){for(var x=[];D!==Ya&&D!==uo;)x.push(D),D=k();g&&(x=g(x,v++))==null||h.push(x)}return h}function o(f,g){return f.map(function(h){return g.map(function(d){return u(h[d])}).join(e)})}function l(f,g){return g==null&&(g=qa(f)),[g.map(u).join(e)].concat(o(f,g)).join(`
`)}function a(f,g){return g==null&&(g=qa(f)),o(f,g).join(`
`)}function c(f){return f.map(s).join(`
`)}function s(f){return f.map(u).join(e)}function u(f){return f==null?"":f instanceof Date?As(f):t.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:r,parseRows:i,format:l,formatBody:a,formatRows:c,formatRow:s,formatValue:u}}var Us=Ps(","),Ls=Us.parse;function Fs(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function Hs(e,t){return fetch(e,t).then(Fs)}function js(e){return function(t,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),Hs(t,n).then(function(i){return e(i,r)})}}var rr=js(Ls);function Is(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function _i(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function an(e){return e=_i(Math.abs(e)),e?e[1]:NaN}function Ws(e,t){return function(n,r){for(var i=n.length,o=[],l=0,a=e[0],c=0;i>0&&a>0&&(c+a+1>r&&(a=Math.max(1,r-c)),o.push(n.substring(i-=a,i+a)),!((c+=a+1)>r));)a=e[l=(l+1)%e.length];return o.reverse().join(t)}}function Ys(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var qs=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function bi(e){if(!(t=qs.exec(e)))throw new Error("invalid format: "+e);var t;return new Qo({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}bi.prototype=Qo.prototype;function Qo(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Qo.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Os(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Mu;function Bs(e,t){var n=_i(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(Mu=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return o===l?r:o>l?r+new Array(o-l+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+_i(e,Math.max(0,t+o-1))[0]}function Oa(e,t){var n=_i(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Ba={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Is,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Oa(e*100,t),r:Oa,s:Bs,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Ga(e){return e}var Va=Array.prototype.map,Za=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Gs(e){var t=e.grouping===void 0||e.thousands===void 0?Ga:Ws(Va.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?Ga:Ys(Va.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function s(f){f=bi(f);var g=f.fill,h=f.align,d=f.sign,p=f.symbol,v=f.zero,D=f.width,S=f.comma,w=f.precision,k=f.trim,x=f.type;x==="n"?(S=!0,x="g"):Ba[x]||(w===void 0&&(w=12),k=!0,x="g"),(v||g==="0"&&h==="=")&&(v=!0,g="0",h="=");var b=p==="$"?n:p==="#"&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",N=p==="$"?r:/[%p]/.test(x)?l:"",P=Ba[x],L=/[defgprs%]/.test(x);w=w===void 0?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function C(T){var R=b,A=N,z,_,I;if(x==="c")A=P(T)+A,T="";else{T=+T;var Y=T<0||1/T<0;if(T=isNaN(T)?c:P(Math.abs(T),w),k&&(T=Os(T)),Y&&+T==0&&d!=="+"&&(Y=!1),R=(Y?d==="("?d:a:d==="-"||d==="("?"":d)+R,A=(x==="s"?Za[8+Mu/3]:"")+A+(Y&&d==="("?")":""),L){for(z=-1,_=T.length;++z<_;)if(I=T.charCodeAt(z),48>I||I>57){A=(I===46?i+T.slice(z+1):T.slice(z))+A,T=T.slice(0,z);break}}}S&&!v&&(T=t(T,1/0));var W=R.length+T.length+A.length,ue=W<D?new Array(D-W+1).join(g):"";switch(S&&v&&(T=t(ue+T,ue.length?D-A.length:1/0),ue=""),h){case"<":T=R+T+A+ue;break;case"=":T=R+ue+T+A;break;case"^":T=ue.slice(0,W=ue.length>>1)+R+T+A+ue.slice(W);break;default:T=ue+R+T+A;break}return o(T)}return C.toString=function(){return f+""},C}function u(f,g){var h=s((f=bi(f),f.type="f",f)),d=Math.max(-8,Math.min(8,Math.floor(an(g)/3)))*3,p=Math.pow(10,-d),v=Za[8+d/3];return function(D){return h(p*D)+v}}return{format:s,formatPrefix:u}}var Vr,Tu,xu;Vs({thousands:",",grouping:[3],currency:["$",""]});function Vs(e){return Vr=Gs(e),Tu=Vr.format,xu=Vr.formatPrefix,Vr}function Zs(e){return Math.max(0,-an(Math.abs(e)))}function Xs(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(an(t)/3)))*3-an(Math.abs(e)))}function Qs(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,an(t)-an(e))+1}var $=1e-6,Ks=1e-12,J=Math.PI,We=J/2,Xa=J/4,Be=J*2,Qe=180/J,Ne=J/180,de=Math.abs,Js=Math.atan,ln=Math.atan2,me=Math.cos,ge=Math.sin,ui=Math.sign||function(e){return e>0?1:e<0?-1:0},at=Math.sqrt;function $s(e){return e>1?0:e<-1?J:Math.acos(e)}function bt(e){return e>1?We:e<-1?-We:Math.asin(e)}function Ye(){}function wi(e,t){e&&Ka.hasOwnProperty(e.type)&&Ka[e.type](e,t)}var Qa={Feature:function(e,t){wi(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)wi(n[r].geometry,t)}},Ka={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){xo(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)xo(n[r],t,0)},Polygon:function(e,t){Ja(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Ja(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)wi(n[r],t)}};function xo(e,t,n){var r=-1,i=e.length-n,o;for(t.lineStart();++r<i;)o=e[r],t.point(o[0],o[1],o[2]);t.lineEnd()}function Ja(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)xo(e[n],t,1);t.polygonEnd()}function tn(e,t){e&&Qa.hasOwnProperty(e.type)?Qa[e.type](e,t):wi(e,t)}function Do(e){return[ln(e[1],e[0]),bt(e[2])]}function un(e){var t=e[0],n=e[1],r=me(n);return[r*me(t),r*ge(t),ge(n)]}function Zr(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function vi(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function co(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Xr(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Eo(e){var t=at(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Co(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function Ro(e,t){return de(e)>J&&(e-=Math.round(e/Be)*Be),[e,t]}Ro.invert=Ro;function ec(e,t,n){return(e%=Be)?t||n?Co(el(e),tl(t,n)):el(e):t||n?tl(t,n):Ro}function $a(e){return function(t,n){return t+=e,de(t)>J&&(t-=Math.round(t/Be)*Be),[t,n]}}function el(e){var t=$a(e);return t.invert=$a(-e),t}function tl(e,t){var n=me(e),r=ge(e),i=me(t),o=ge(t);function l(a,c){var s=me(c),u=me(a)*s,f=ge(a)*s,g=ge(c),h=g*n+u*r;return[ln(f*i-h*o,u*n-g*r),bt(h*i+f*o)]}return l.invert=function(a,c){var s=me(c),u=me(a)*s,f=ge(a)*s,g=ge(c),h=g*i-f*o;return[ln(f*i+g*o,u*n+h*r),bt(h*n-u*r)]},l}function tc(e,t,n,r,i,o){if(n){var l=me(t),a=ge(t),c=r*n;i==null?(i=t+r*Be,o=t-c/2):(i=nl(l,i),o=nl(l,o),(r>0?i<o:i>o)&&(i+=r*Be));for(var s,u=i;r>0?u>o:u<o;u-=c)s=Do([l,-a*me(u),-a*ge(u)]),e.point(s[0],s[1])}}function nl(e,t){t=un(t),t[0]-=e,Eo(t);var n=$s(-t[1]);return((-t[2]<0?-n:n)+Be-$)%Be}function Du(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:Ye,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function fi(e,t){return de(e[0]-t[0])<$&&de(e[1]-t[1])<$}function Qr(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Eu(e,t,n,r,i){var o=[],l=[],a,c;if(e.forEach(function(d){if(!((p=d.length-1)<=0)){var p,v=d[0],D=d[p],S;if(fi(v,D)){if(!v[2]&&!D[2]){for(i.lineStart(),a=0;a<p;++a)i.point((v=d[a])[0],v[1]);i.lineEnd();return}D[0]+=2*$}o.push(S=new Qr(v,d,null,!0)),l.push(S.o=new Qr(v,null,S,!1)),o.push(S=new Qr(D,d,null,!1)),l.push(S.o=new Qr(D,null,S,!0))}}),!!o.length){for(l.sort(t),rl(o),rl(l),a=0,c=l.length;a<c;++a)l[a].e=n=!n;for(var s=o[0],u,f;;){for(var g=s,h=!0;g.v;)if((g=g.n)===s)return;u=g.z,i.lineStart();do{if(g.v=g.o.v=!0,g.e){if(h)for(a=0,c=u.length;a<c;++a)i.point((f=u[a])[0],f[1]);else r(g.x,g.n.x,1,i);g=g.n}else{if(h)for(u=g.p.z,a=u.length-1;a>=0;--a)i.point((f=u[a])[0],f[1]);else r(g.x,g.p.x,-1,i);g=g.p}g=g.o,u=g.z,h=!h}while(!g.v);i.lineEnd()}}}function rl(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function ho(e){return de(e[0])<=J?e[0]:ui(e[0])*((de(e[0])+J)%Be-J)}function nc(e,t){var n=ho(t),r=t[1],i=ge(r),o=[ge(n),-me(n),0],l=0,a=0,c=new _t;i===1?r=We+$:i===-1&&(r=-We-$);for(var s=0,u=e.length;s<u;++s)if(g=(f=e[s]).length)for(var f,g,h=f[g-1],d=ho(h),p=h[1]/2+Xa,v=ge(p),D=me(p),S=0;S<g;++S,d=k,v=b,D=N,h=w){var w=f[S],k=ho(w),x=w[1]/2+Xa,b=ge(x),N=me(x),P=k-d,L=P>=0?1:-1,C=L*P,T=C>J,R=v*b;if(c.add(ln(R*L*ge(C),D*N+R*me(C))),l+=T?P+L*Be:P,T^d>=n^k>=n){var A=vi(un(h),un(w));Eo(A);var z=vi(o,A);Eo(z);var _=(T^P>=0?-1:1)*bt(z[2]);(r>_||r===_&&(A[0]||A[1]))&&(a+=T^P>=0?1:-1)}}return(l<-$||l<$&&c<-Ks)^a&1}function Cu(e,t,n,r){return function(i){var o=t(i),l=Du(),a=t(l),c=!1,s,u,f,g={point:h,lineStart:p,lineEnd:v,polygonStart:function(){g.point=D,g.lineStart=S,g.lineEnd=w,u=[],s=[]},polygonEnd:function(){g.point=h,g.lineStart=p,g.lineEnd=v,u=pu(u);var k=nc(s,r);u.length?(c||(i.polygonStart(),c=!0),Eu(u,ic,k,n,i)):k&&(c||(i.polygonStart(),c=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),c&&(i.polygonEnd(),c=!1),u=s=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(k,x){e(k,x)&&i.point(k,x)}function d(k,x){o.point(k,x)}function p(){g.point=d,o.lineStart()}function v(){g.point=h,o.lineEnd()}function D(k,x){f.push([k,x]),a.point(k,x)}function S(){a.lineStart(),f=[]}function w(){D(f[0][0],f[0][1]),a.lineEnd();var k=a.clean(),x=l.result(),b,N=x.length,P,L,C;if(f.pop(),s.push(f),f=null,!!N){if(k&1){if(L=x[0],(P=L.length-1)>0){for(c||(i.polygonStart(),c=!0),i.lineStart(),b=0;b<P;++b)i.point((C=L[b])[0],C[1]);i.lineEnd()}return}N>1&&k&2&&x.push(x.pop().concat(x.shift())),u.push(x.filter(rc))}}return g}}function rc(e){return e.length>1}function ic(e,t){return((e=e.x)[0]<0?e[1]-We-$:We-e[1])-((t=t.x)[0]<0?t[1]-We-$:We-t[1])}const il=Cu(function(){return!0},oc,lc,[-J,-We]);function oc(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(o,l){var a=o>0?J:-J,c=de(o-t);de(c-J)<$?(e.point(t,n=(n+l)/2>0?We:-We),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(a,n),e.point(o,n),i=0):r!==a&&c>=J&&(de(t-r)<$&&(t-=r*$),de(o-a)<$&&(o-=a*$),n=ac(t,n,o,l),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(a,n),i=0),e.point(t=o,n=l),r=a},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function ac(e,t,n,r){var i,o,l=ge(e-n);return de(l)>$?Js((ge(t)*(o=me(r))*ge(n)-ge(r)*(i=me(t))*ge(e))/(i*o*l)):(t+r)/2}function lc(e,t,n,r){var i;if(e==null)i=n*We,r.point(-J,i),r.point(0,i),r.point(J,i),r.point(J,0),r.point(J,-i),r.point(0,-i),r.point(-J,-i),r.point(-J,0),r.point(-J,i);else if(de(e[0]-t[0])>$){var o=e[0]<t[0]?J:-J;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}function uc(e){var t=me(e),n=2*Ne,r=t>0,i=de(t)>$;function o(u,f,g,h){tc(h,e,n,g,u,f)}function l(u,f){return me(u)*me(f)>t}function a(u){var f,g,h,d,p;return{lineStart:function(){d=h=!1,p=1},point:function(v,D){var S=[v,D],w,k=l(v,D),x=r?k?0:s(v,D):k?s(v+(v<0?J:-J),D):0;if(!f&&(d=h=k)&&u.lineStart(),k!==h&&(w=c(f,S),(!w||fi(f,w)||fi(S,w))&&(S[2]=1)),k!==h)p=0,k?(u.lineStart(),w=c(S,f),u.point(w[0],w[1])):(w=c(f,S),u.point(w[0],w[1],2),u.lineEnd()),f=w;else if(i&&f&&r^k){var b;!(x&g)&&(b=c(S,f,!0))&&(p=0,r?(u.lineStart(),u.point(b[0][0],b[0][1]),u.point(b[1][0],b[1][1]),u.lineEnd()):(u.point(b[1][0],b[1][1]),u.lineEnd(),u.lineStart(),u.point(b[0][0],b[0][1],3)))}k&&(!f||!fi(f,S))&&u.point(S[0],S[1]),f=S,h=k,g=x},lineEnd:function(){h&&u.lineEnd(),f=null},clean:function(){return p|(d&&h)<<1}}}function c(u,f,g){var h=un(u),d=un(f),p=[1,0,0],v=vi(h,d),D=Zr(v,v),S=v[0],w=D-S*S;if(!w)return!g&&u;var k=t*D/w,x=-t*S/w,b=vi(p,v),N=Xr(p,k),P=Xr(v,x);co(N,P);var L=b,C=Zr(N,L),T=Zr(L,L),R=C*C-T*(Zr(N,N)-1);if(!(R<0)){var A=at(R),z=Xr(L,(-C-A)/T);if(co(z,N),z=Do(z),!g)return z;var _=u[0],I=f[0],Y=u[1],W=f[1],ue;I<_&&(ue=_,_=I,I=ue);var Ve=I-_,Ee=de(Ve-J)<$,Pe=Ee||Ve<$;if(!Ee&&W<Y&&(ue=Y,Y=W,W=ue),Pe?Ee?Y+W>0^z[1]<(de(z[0]-_)<$?Y:W):Y<=z[1]&&z[1]<=W:Ve>J^(_<=z[0]&&z[0]<=I)){var Ce=Xr(L,(-C+A)/T);return co(Ce,N),[z,Do(Ce)]}}}function s(u,f){var g=r?e:J-e,h=0;return u<-g?h|=1:u>g&&(h|=2),f<-g?h|=4:f>g&&(h|=8),h}return Cu(l,a,o,r?[0,-e]:[-J,e-J])}function fc(e,t,n,r,i,o){var l=e[0],a=e[1],c=t[0],s=t[1],u=0,f=1,g=c-l,h=s-a,d;if(d=n-l,!(!g&&d>0)){if(d/=g,g<0){if(d<u)return;d<f&&(f=d)}else if(g>0){if(d>f)return;d>u&&(u=d)}if(d=i-l,!(!g&&d<0)){if(d/=g,g<0){if(d>f)return;d>u&&(u=d)}else if(g>0){if(d<u)return;d<f&&(f=d)}if(d=r-a,!(!h&&d>0)){if(d/=h,h<0){if(d<u)return;d<f&&(f=d)}else if(h>0){if(d>f)return;d>u&&(u=d)}if(d=o-a,!(!h&&d<0)){if(d/=h,h<0){if(d>f)return;d>u&&(u=d)}else if(h>0){if(d<u)return;d<f&&(f=d)}return u>0&&(e[0]=l+u*g,e[1]=a+u*h),f<1&&(t[0]=l+f*g,t[1]=a+f*h),!0}}}}}var In=1e9,Kr=-In;function sc(e,t,n,r){function i(s,u){return e<=s&&s<=n&&t<=u&&u<=r}function o(s,u,f,g){var h=0,d=0;if(s==null||(h=l(s,f))!==(d=l(u,f))||c(s,u)<0^f>0)do g.point(h===0||h===3?e:n,h>1?r:t);while((h=(h+f+4)%4)!==d);else g.point(u[0],u[1])}function l(s,u){return de(s[0]-e)<$?u>0?0:3:de(s[0]-n)<$?u>0?2:1:de(s[1]-t)<$?u>0?1:0:u>0?3:2}function a(s,u){return c(s.x,u.x)}function c(s,u){var f=l(s,1),g=l(u,1);return f!==g?f-g:f===0?u[1]-s[1]:f===1?s[0]-u[0]:f===2?s[1]-u[1]:u[0]-s[0]}return function(s){var u=s,f=Du(),g,h,d,p,v,D,S,w,k,x,b,N={point:P,lineStart:R,lineEnd:A,polygonStart:C,polygonEnd:T};function P(_,I){i(_,I)&&u.point(_,I)}function L(){for(var _=0,I=0,Y=h.length;I<Y;++I)for(var W=h[I],ue=1,Ve=W.length,Ee=W[0],Pe,Ce,Ze=Ee[0],Ue=Ee[1];ue<Ve;++ue)Pe=Ze,Ce=Ue,Ee=W[ue],Ze=Ee[0],Ue=Ee[1],Ce<=r?Ue>r&&(Ze-Pe)*(r-Ce)>(Ue-Ce)*(e-Pe)&&++_:Ue<=r&&(Ze-Pe)*(r-Ce)<(Ue-Ce)*(e-Pe)&&--_;return _}function C(){u=f,g=[],h=[],b=!0}function T(){var _=L(),I=b&&_,Y=(g=pu(g)).length;(I||Y)&&(s.polygonStart(),I&&(s.lineStart(),o(null,null,1,s),s.lineEnd()),Y&&Eu(g,a,_,o,s),s.polygonEnd()),u=s,g=h=d=null}function R(){N.point=z,h&&h.push(d=[]),x=!0,k=!1,S=w=NaN}function A(){g&&(z(p,v),D&&k&&f.rejoin(),g.push(f.result())),N.point=P,k&&u.lineEnd()}function z(_,I){var Y=i(_,I);if(h&&d.push([_,I]),x)p=_,v=I,D=Y,x=!1,Y&&(u.lineStart(),u.point(_,I));else if(Y&&k)u.point(_,I);else{var W=[S=Math.max(Kr,Math.min(In,S)),w=Math.max(Kr,Math.min(In,w))],ue=[_=Math.max(Kr,Math.min(In,_)),I=Math.max(Kr,Math.min(In,I))];fc(W,ue,e,t,n,r)?(k||(u.lineStart(),u.point(W[0],W[1])),u.point(ue[0],ue[1]),Y||u.lineEnd(),b=!1):Y&&(u.lineStart(),u.point(_,I),b=!1)}S=_,w=I,k=Y}return N}}const No=e=>e;var go=new _t,zo=new _t,Ru,Nu,Ao,Po,ot={point:Ye,lineStart:Ye,lineEnd:Ye,polygonStart:function(){ot.lineStart=cc,ot.lineEnd=gc},polygonEnd:function(){ot.lineStart=ot.lineEnd=ot.point=Ye,go.add(de(zo)),zo=new _t},result:function(){var e=go/2;return go=new _t,e}};function cc(){ot.point=hc}function hc(e,t){ot.point=zu,Ru=Ao=e,Nu=Po=t}function zu(e,t){zo.add(Po*e-Ao*t),Ao=e,Po=t}function gc(){zu(Ru,Nu)}var fn=1/0,ki=fn,Jn=-fn,Si=Jn,Mi={point:dc,lineStart:Ye,lineEnd:Ye,polygonStart:Ye,polygonEnd:Ye,result:function(){var e=[[fn,ki],[Jn,Si]];return Jn=Si=-(ki=fn=1/0),e}};function dc(e,t){e<fn&&(fn=e),e>Jn&&(Jn=e),t<ki&&(ki=t),t>Si&&(Si=t)}var Uo=0,Lo=0,Wn=0,Ti=0,xi=0,nn=0,Fo=0,Ho=0,Yn=0,Au,Pu,nt,rt,je={point:wt,lineStart:ol,lineEnd:al,polygonStart:function(){je.lineStart=pc,je.lineEnd=_c},polygonEnd:function(){je.point=wt,je.lineStart=ol,je.lineEnd=al},result:function(){var e=Yn?[Fo/Yn,Ho/Yn]:nn?[Ti/nn,xi/nn]:Wn?[Uo/Wn,Lo/Wn]:[NaN,NaN];return Uo=Lo=Wn=Ti=xi=nn=Fo=Ho=Yn=0,e}};function wt(e,t){Uo+=e,Lo+=t,++Wn}function ol(){je.point=mc}function mc(e,t){je.point=yc,wt(nt=e,rt=t)}function yc(e,t){var n=e-nt,r=t-rt,i=at(n*n+r*r);Ti+=i*(nt+e)/2,xi+=i*(rt+t)/2,nn+=i,wt(nt=e,rt=t)}function al(){je.point=wt}function pc(){je.point=bc}function _c(){Uu(Au,Pu)}function bc(e,t){je.point=Uu,wt(Au=nt=e,Pu=rt=t)}function Uu(e,t){var n=e-nt,r=t-rt,i=at(n*n+r*r);Ti+=i*(nt+e)/2,xi+=i*(rt+t)/2,nn+=i,i=rt*e-nt*t,Fo+=i*(nt+e),Ho+=i*(rt+t),Yn+=i*3,wt(nt=e,rt=t)}function Lu(e){this._context=e}Lu.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Be);break}}},result:Ye};var jo=new _t,mo,Fu,Hu,qn,On,$n={point:Ye,lineStart:function(){$n.point=wc},lineEnd:function(){mo&&ju(Fu,Hu),$n.point=Ye},polygonStart:function(){mo=!0},polygonEnd:function(){mo=null},result:function(){var e=+jo;return jo=new _t,e}};function wc(e,t){$n.point=ju,Fu=qn=e,Hu=On=t}function ju(e,t){qn-=e,On-=t,jo.add(at(qn*qn+On*On)),qn=e,On=t}let ll,Di,ul,fl;class sl{constructor(t){this._append=t==null?Iu:vc(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==ul||this._append!==Di){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,ul=r,Di=this._append,fl=this._,this._=i}this._+=fl;break}}}result(){const t=this._;return this._="",t.length?t:null}}function Iu(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function vc(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return Iu;if(t!==ll){const n=10**t;ll=t,Di=function(i){let o=1;this._+=i[0];for(const l=i.length;o<l;++o)this._+=Math.round(arguments[o]*n)/n+i[o]}}return Di}function Wu(e,t){let n=3,r=4.5,i,o;function l(a){return a&&(typeof r=="function"&&o.pointRadius(+r.apply(this,arguments)),tn(a,i(o))),o.result()}return l.area=function(a){return tn(a,i(ot)),ot.result()},l.measure=function(a){return tn(a,i($n)),$n.result()},l.bounds=function(a){return tn(a,i(Mi)),Mi.result()},l.centroid=function(a){return tn(a,i(je)),je.result()},l.projection=function(a){return arguments.length?(i=a==null?(e=null,No):(e=a).stream,l):e},l.context=function(a){return arguments.length?(o=a==null?(t=null,new sl(n)):new Lu(t=a),typeof r!="function"&&o.pointRadius(r),l):t},l.pointRadius=function(a){return arguments.length?(r=typeof a=="function"?a:(o.pointRadius(+a),+a),l):r},l.digits=function(a){if(!arguments.length)return n;if(a==null)n=null;else{const c=Math.floor(a);if(!(c>=0))throw new RangeError(`invalid digits: ${a}`);n=c}return t===null&&(o=new sl(n)),l},l.projection(e).digits(n).context(t)}function Ko(e){return function(t){var n=new Io;for(var r in e)n[r]=e[r];return n.stream=t,n}}function Io(){}Io.prototype={constructor:Io,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Jo(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),tn(n,e.stream(Mi)),t(Mi.result()),r!=null&&e.clipExtent(r),e}function $o(e,t,n){return Jo(e,function(r){var i=t[1][0]-t[0][0],o=t[1][1]-t[0][1],l=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),a=+t[0][0]+(i-l*(r[1][0]+r[0][0]))/2,c=+t[0][1]+(o-l*(r[1][1]+r[0][1]))/2;e.scale(150*l).translate([a,c])},n)}function Yu(e,t,n){return $o(e,[[0,0],t],n)}function qu(e,t,n){return Jo(e,function(r){var i=+t,o=i/(r[1][0]-r[0][0]),l=(i-o*(r[1][0]+r[0][0]))/2,a=-o*r[0][1];e.scale(150*o).translate([l,a])},n)}function Ou(e,t,n){return Jo(e,function(r){var i=+t,o=i/(r[1][1]-r[0][1]),l=-o*r[0][0],a=(i-o*(r[1][1]+r[0][1]))/2;e.scale(150*o).translate([l,a])},n)}var cl=16,kc=me(30*Ne);function hl(e,t){return+t?Mc(e,t):Sc(e)}function Sc(e){return Ko({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function Mc(e,t){function n(r,i,o,l,a,c,s,u,f,g,h,d,p,v){var D=s-r,S=u-i,w=D*D+S*S;if(w>4*t&&p--){var k=l+g,x=a+h,b=c+d,N=at(k*k+x*x+b*b),P=bt(b/=N),L=de(de(b)-1)<$||de(o-f)<$?(o+f)/2:ln(x,k),C=e(L,P),T=C[0],R=C[1],A=T-r,z=R-i,_=S*A-D*z;(_*_/w>t||de((D*A+S*z)/w-.5)>.3||l*g+a*h+c*d<kc)&&(n(r,i,o,l,a,c,T,R,L,k/=N,x/=N,b,p,v),v.point(T,R),n(T,R,L,k,x,b,s,u,f,g,h,d,p,v))}}return function(r){var i,o,l,a,c,s,u,f,g,h,d,p,v={point:D,lineStart:S,lineEnd:k,polygonStart:function(){r.polygonStart(),v.lineStart=x},polygonEnd:function(){r.polygonEnd(),v.lineStart=S}};function D(P,L){P=e(P,L),r.point(P[0],P[1])}function S(){f=NaN,v.point=w,r.lineStart()}function w(P,L){var C=un([P,L]),T=e(P,L);n(f,g,u,h,d,p,f=T[0],g=T[1],u=P,h=C[0],d=C[1],p=C[2],cl,r),r.point(f,g)}function k(){v.point=D,r.lineEnd()}function x(){S(),v.point=b,v.lineEnd=N}function b(P,L){w(i=P,L),o=f,l=g,a=h,c=d,s=p,v.point=w}function N(){n(f,g,u,h,d,p,o,l,i,a,c,s,cl,r),v.lineEnd=k,k()}return v}}var Tc=Ko({point:function(e,t){this.stream.point(e*Ne,t*Ne)}});function xc(e){return Ko({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function Dc(e,t,n,r,i){function o(l,a){return l*=r,a*=i,[t+e*l,n-e*a]}return o.invert=function(l,a){return[(l-t)/e*r,(n-a)/e*i]},o}function gl(e,t,n,r,i,o){if(!o)return Dc(e,t,n,r,i);var l=me(o),a=ge(o),c=l*e,s=a*e,u=l/e,f=a/e,g=(a*n-l*t)/e,h=(a*t+l*n)/e;function d(p,v){return p*=r,v*=i,[c*p-s*v+t,n-s*p-c*v]}return d.invert=function(p,v){return[r*(u*p-f*v+g),i*(h-f*p-u*v)]},d}function Ec(e){var t,n=150,r=480,i=250,o=0,l=0,a=0,c=0,s=0,u,f=0,g=1,h=1,d=null,p=il,v=null,D,S,w,k=No,x=.5,b,N,P,L,C;function T(_){return P(_[0]*Ne,_[1]*Ne)}function R(_){return _=P.invert(_[0],_[1]),_&&[_[0]*Qe,_[1]*Qe]}T.stream=function(_){return L&&C===_?L:L=Tc(xc(u)(p(b(k(C=_)))))},T.preclip=function(_){return arguments.length?(p=_,d=void 0,z()):p},T.postclip=function(_){return arguments.length?(k=_,v=D=S=w=null,z()):k},T.clipAngle=function(_){return arguments.length?(p=+_?uc(d=_*Ne):(d=null,il),z()):d*Qe},T.clipExtent=function(_){return arguments.length?(k=_==null?(v=D=S=w=null,No):sc(v=+_[0][0],D=+_[0][1],S=+_[1][0],w=+_[1][1]),z()):v==null?null:[[v,D],[S,w]]},T.scale=function(_){return arguments.length?(n=+_,A()):n},T.translate=function(_){return arguments.length?(r=+_[0],i=+_[1],A()):[r,i]},T.center=function(_){return arguments.length?(o=_[0]%360*Ne,l=_[1]%360*Ne,A()):[o*Qe,l*Qe]},T.rotate=function(_){return arguments.length?(a=_[0]%360*Ne,c=_[1]%360*Ne,s=_.length>2?_[2]%360*Ne:0,A()):[a*Qe,c*Qe,s*Qe]},T.angle=function(_){return arguments.length?(f=_%360*Ne,A()):f*Qe},T.reflectX=function(_){return arguments.length?(g=_?-1:1,A()):g<0},T.reflectY=function(_){return arguments.length?(h=_?-1:1,A()):h<0},T.precision=function(_){return arguments.length?(b=hl(N,x=_*_),z()):at(x)},T.fitExtent=function(_,I){return $o(T,_,I)},T.fitSize=function(_,I){return Yu(T,_,I)},T.fitWidth=function(_,I){return qu(T,_,I)},T.fitHeight=function(_,I){return Ou(T,_,I)};function A(){var _=gl(n,0,0,g,h,f).apply(null,t(o,l)),I=gl(n,r-_[0],i-_[1],g,h,f);return u=ec(a,c,s),N=Co(t,I),P=Co(u,N),b=hl(N,x),z()}function z(){return L=C=null,T}return function(){return t=e.apply(this,arguments),T.invert=t.invert&&R,A()}}function Cc(e){var t=0,n=J/3,r=Ec(e),i=r(t,n);return i.parallels=function(o){return arguments.length?r(t=o[0]*Ne,n=o[1]*Ne):[t*Qe,n*Qe]},i}function Rc(e){var t=me(e);function n(r,i){return[r*t,ge(i)/t]}return n.invert=function(r,i){return[r/t,bt(i*t)]},n}function Nc(e,t){var n=ge(e),r=(n+ge(t))/2;if(de(r)<$)return Rc(e);var i=1+n*(2*r-n),o=at(i)/r;function l(a,c){var s=at(i-2*r*ge(c))/r;return[s*ge(a*=r),o-s*me(a)]}return l.invert=function(a,c){var s=o-c,u=ln(a,de(s))*ui(s);return s*r<0&&(u-=J*ui(a)*ui(s)),[u/r,bt((i-(a*a+s*s)*r*r)/(2*r))]},l}function Wo(){return Cc(Nc).scale(155.424).center([0,33.6442])}function zc(){return Wo().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Ac(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function Bu(){var e,t,n=zc(),r,i=Wo().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,l=Wo().rotate([157,0]).center([-3,19.9]).parallels([8,18]),a,c,s={point:function(g,h){c=[g,h]}};function u(g){var h=g[0],d=g[1];return c=null,r.point(h,d),c||(o.point(h,d),c)||(a.point(h,d),c)}u.invert=function(g){var h=n.scale(),d=n.translate(),p=(g[0]-d[0])/h,v=(g[1]-d[1])/h;return(v>=.12&&v<.234&&p>=-.425&&p<-.214?i:v>=.166&&v<.234&&p>=-.214&&p<-.115?l:n).invert(g)},u.stream=function(g){return e&&t===g?e:e=Ac([n.stream(t=g),i.stream(g),l.stream(g)])},u.precision=function(g){return arguments.length?(n.precision(g),i.precision(g),l.precision(g),f()):n.precision()},u.scale=function(g){return arguments.length?(n.scale(g),i.scale(g*.35),l.scale(g),u.translate(n.translate())):n.scale()},u.translate=function(g){if(!arguments.length)return n.translate();var h=n.scale(),d=+g[0],p=+g[1];return r=n.translate(g).clipExtent([[d-.455*h,p-.238*h],[d+.455*h,p+.238*h]]).stream(s),o=i.translate([d-.307*h,p+.201*h]).clipExtent([[d-.425*h+$,p+.12*h+$],[d-.214*h-$,p+.234*h-$]]).stream(s),a=l.translate([d-.205*h,p+.212*h]).clipExtent([[d-.214*h+$,p+.166*h+$],[d-.115*h-$,p+.234*h-$]]).stream(s),f()},u.fitExtent=function(g,h){return $o(u,g,h)},u.fitSize=function(g,h){return Yu(u,g,h)},u.fitWidth=function(g,h){return qu(u,g,h)},u.fitHeight=function(g,h){return Ou(u,g,h)};function f(){return e=t=null,u}return u.scale(1070)}function Gu(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Pc(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}function Uc(e){return function(){return e}}function Lc(e){return+e}var dl=[0,1];function qe(e){return e}function Yo(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Uc(isNaN(t)?NaN:.5)}function Fc(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Hc(e,t,n){var r=e[0],i=e[1],o=t[0],l=t[1];return i<r?(r=Yo(i,r),o=n(l,o)):(r=Yo(r,i),o=n(o,l)),function(a){return o(r(a))}}function jc(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),l=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<r;)i[l]=Yo(e[l],e[l+1]),o[l]=n(t[l],t[l+1]);return function(a){var c=mu(e,a,1,r)-1;return o[c](i[c](a))}}function Vu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Zu(){var e=dl,t=dl,n=zi,r,i,o,l=qe,a,c,s;function u(){var g=Math.min(e.length,t.length);return l!==qe&&(l=Fc(e[0],e[g-1])),a=g>2?jc:Hc,c=s=null,f}function f(g){return g==null||isNaN(g=+g)?o:(c||(c=a(e.map(r),t,n)))(r(l(g)))}return f.invert=function(g){return l(i((s||(s=a(t,e.map(r),pi)))(g)))},f.domain=function(g){return arguments.length?(e=Array.from(g,Lc),u()):e.slice()},f.range=function(g){return arguments.length?(t=Array.from(g),u()):t.slice()},f.rangeRound=function(g){return t=Array.from(g),n=vu,u()},f.clamp=function(g){return arguments.length?(l=g?!0:qe,u()):l!==qe},f.interpolate=function(g){return arguments.length?(n=g,u()):n},f.unknown=function(g){return arguments.length?(o=g,f):o},function(g,h){return r=g,i=h,u()}}function Ic(){return Zu()(qe,qe)}function Wc(e,t,n,r){var i=Qf(e,t,n),o;switch(r=bi(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=Xs(i,l))&&(r.precision=o),xu(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Qs(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Zs(i))&&(r.precision=o-(r.type==="%")*2);break}}return Tu(r)}function ea(e){var t=e.domain;return e.ticks=function(n){var r=t();return yu(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return Wc(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,l=r[i],a=r[o],c,s,u=10;for(a<l&&(s=l,l=a,a=s,s=i,i=o,o=s);u-- >0;){if(s=on(l,a,n),s===c)return r[i]=l,r[o]=a,t(r);if(s>0)l=Math.floor(l/s)*s,a=Math.ceil(a/s)*s;else if(s<0)l=Math.ceil(l*s)/s,a=Math.floor(a*s)/s;else break;c=s}return e},e}function si(){var e=Ic();return e.copy=function(){return Vu(e,si())},Gu.apply(e,arguments),ea(e)}function ml(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Yc(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function qc(e){return e<0?-e*e:e*e}function Oc(e){var t=e(qe,qe),n=1;function r(){return n===1?e(qe,qe):n===.5?e(Yc,qc):e(ml(n),ml(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},ea(t)}function Xu(){var e=Oc(Zu());return e.copy=function(){return Vu(e,Xu()).exponent(e.exponent())},Gu.apply(e,arguments),e}function Bc(){return Xu.apply(null,arguments).exponent(.5)}const yo=new Date,po=new Date;function Ge(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const l=i(o),a=i.ceil(o);return o-l<a-o?l:a},i.offset=(o,l)=>(t(o=new Date(+o),l==null?1:Math.floor(l)),o),i.range=(o,l,a)=>{const c=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<l)||!(a>0))return c;let s;do c.push(s=new Date(+o)),t(o,a),e(o);while(s<o&&o<l);return c},i.filter=o=>Ge(l=>{if(l>=l)for(;e(l),!o(l);)l.setTime(l-1)},(l,a)=>{if(l>=l)if(a<0)for(;++a<=0;)for(;t(l,-1),!o(l););else for(;--a>=0;)for(;t(l,1),!o(l););}),n&&(i.count=(o,l)=>(yo.setTime(+o),po.setTime(+l),e(yo),e(po),Math.floor(n(yo,po))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?l=>r(l)%o===0:l=>i.count(0,l)%o===0):i)),i}const Gc=1e3,ta=Gc*60,Vc=ta*60,er=Vc*24,Qu=er*7,na=Ge(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ta)/er,e=>e.getDate()-1);na.range;const ra=Ge(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/er,e=>e.getUTCDate()-1);ra.range;const Zc=Ge(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/er,e=>Math.floor(e/er));Zc.range;function Mt(e){return Ge(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ta)/Qu)}const Ku=Mt(0),Ei=Mt(1),Xc=Mt(2),Qc=Mt(3),sn=Mt(4),Kc=Mt(5),Jc=Mt(6);Ku.range;Ei.range;Xc.range;Qc.range;sn.range;Kc.range;Jc.range;function Tt(e){return Ge(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Qu)}const Ju=Tt(0),Ci=Tt(1),$c=Tt(2),e0=Tt(3),cn=Tt(4),t0=Tt(5),n0=Tt(6);Ju.range;Ci.range;$c.range;e0.range;cn.range;t0.range;n0.range;const r0=Ge(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth()),i0=r0.range,o0=Ge(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());o0.range;const vt=Ge(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());vt.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ge(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});vt.range;const kt=Ge(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());kt.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ge(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});kt.range;function _o(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function bo(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Fn(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function a0(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,l=e.shortDays,a=e.months,c=e.shortMonths,s=Hn(i),u=jn(i),f=Hn(o),g=jn(o),h=Hn(l),d=jn(l),p=Hn(a),v=jn(a),D=Hn(c),S=jn(c),w={a:Y,A:W,b:ue,B:Ve,c:null,d:vl,e:vl,f:C0,g:j0,G:W0,H:x0,I:D0,j:E0,L:$u,m:R0,M:N0,p:Ee,q:Pe,Q:Ml,s:Tl,S:z0,u:A0,U:P0,V:U0,w:L0,W:F0,x:null,X:null,y:H0,Y:I0,Z:Y0,"%":Sl},k={a:Ce,A:Ze,b:Ue,B:xt,c:null,d:kl,e:kl,f:G0,g:nh,G:ih,H:q0,I:O0,j:B0,L:tf,m:V0,M:Z0,p:Dt,q:mn,Q:Ml,s:Tl,S:X0,u:Q0,U:K0,V:J0,w:$0,W:eh,x:null,X:null,y:th,Y:rh,Z:oh,"%":Sl},x={a:C,A:T,b:R,B:A,c:z,d:bl,e:bl,f:k0,g:_l,G:pl,H:wl,I:wl,j:_0,L:v0,m:p0,M:b0,p:L,q:y0,Q:M0,s:T0,S:w0,u:c0,U:h0,V:g0,w:s0,W:d0,x:_,X:I,y:_l,Y:pl,Z:m0,"%":S0};w.x=b(n,w),w.X=b(r,w),w.c=b(t,w),k.x=b(n,k),k.X=b(r,k),k.c=b(t,k);function b(F,V){return function(K){var E=[],ve=-1,fe=0,Te=F.length,xe,et,yn;for(K instanceof Date||(K=new Date(+K));++ve<Te;)F.charCodeAt(ve)===37&&(E.push(F.slice(fe,ve)),(et=yl[xe=F.charAt(++ve)])!=null?xe=F.charAt(++ve):et=xe==="e"?" ":"0",(yn=V[xe])&&(xe=yn(K,et)),E.push(xe),fe=ve+1);return E.push(F.slice(fe,ve)),E.join("")}}function N(F,V){return function(K){var E=Fn(1900,void 0,1),ve=P(E,F,K+="",0),fe,Te;if(ve!=K.length)return null;if("Q"in E)return new Date(E.Q);if("s"in E)return new Date(E.s*1e3+("L"in E?E.L:0));if(V&&!("Z"in E)&&(E.Z=0),"p"in E&&(E.H=E.H%12+E.p*12),E.m===void 0&&(E.m="q"in E?E.q:0),"V"in E){if(E.V<1||E.V>53)return null;"w"in E||(E.w=1),"Z"in E?(fe=bo(Fn(E.y,0,1)),Te=fe.getUTCDay(),fe=Te>4||Te===0?Ci.ceil(fe):Ci(fe),fe=ra.offset(fe,(E.V-1)*7),E.y=fe.getUTCFullYear(),E.m=fe.getUTCMonth(),E.d=fe.getUTCDate()+(E.w+6)%7):(fe=_o(Fn(E.y,0,1)),Te=fe.getDay(),fe=Te>4||Te===0?Ei.ceil(fe):Ei(fe),fe=na.offset(fe,(E.V-1)*7),E.y=fe.getFullYear(),E.m=fe.getMonth(),E.d=fe.getDate()+(E.w+6)%7)}else("W"in E||"U"in E)&&("w"in E||(E.w="u"in E?E.u%7:"W"in E?1:0),Te="Z"in E?bo(Fn(E.y,0,1)).getUTCDay():_o(Fn(E.y,0,1)).getDay(),E.m=0,E.d="W"in E?(E.w+6)%7+E.W*7-(Te+5)%7:E.w+E.U*7-(Te+6)%7);return"Z"in E?(E.H+=E.Z/100|0,E.M+=E.Z%100,bo(E)):_o(E)}}function P(F,V,K,E){for(var ve=0,fe=V.length,Te=K.length,xe,et;ve<fe;){if(E>=Te)return-1;if(xe=V.charCodeAt(ve++),xe===37){if(xe=V.charAt(ve++),et=x[xe in yl?V.charAt(ve++):xe],!et||(E=et(F,K,E))<0)return-1}else if(xe!=K.charCodeAt(E++))return-1}return E}function L(F,V,K){var E=s.exec(V.slice(K));return E?(F.p=u.get(E[0].toLowerCase()),K+E[0].length):-1}function C(F,V,K){var E=h.exec(V.slice(K));return E?(F.w=d.get(E[0].toLowerCase()),K+E[0].length):-1}function T(F,V,K){var E=f.exec(V.slice(K));return E?(F.w=g.get(E[0].toLowerCase()),K+E[0].length):-1}function R(F,V,K){var E=D.exec(V.slice(K));return E?(F.m=S.get(E[0].toLowerCase()),K+E[0].length):-1}function A(F,V,K){var E=p.exec(V.slice(K));return E?(F.m=v.get(E[0].toLowerCase()),K+E[0].length):-1}function z(F,V,K){return P(F,t,V,K)}function _(F,V,K){return P(F,n,V,K)}function I(F,V,K){return P(F,r,V,K)}function Y(F){return l[F.getDay()]}function W(F){return o[F.getDay()]}function ue(F){return c[F.getMonth()]}function Ve(F){return a[F.getMonth()]}function Ee(F){return i[+(F.getHours()>=12)]}function Pe(F){return 1+~~(F.getMonth()/3)}function Ce(F){return l[F.getUTCDay()]}function Ze(F){return o[F.getUTCDay()]}function Ue(F){return c[F.getUTCMonth()]}function xt(F){return a[F.getUTCMonth()]}function Dt(F){return i[+(F.getUTCHours()>=12)]}function mn(F){return 1+~~(F.getUTCMonth()/3)}return{format:function(F){var V=b(F+="",w);return V.toString=function(){return F},V},parse:function(F){var V=N(F+="",!1);return V.toString=function(){return F},V},utcFormat:function(F){var V=b(F+="",k);return V.toString=function(){return F},V},utcParse:function(F){var V=N(F+="",!0);return V.toString=function(){return F},V}}}var yl={"-":"",_:" ",0:"0"},we=/^\s*\d+/,l0=/^%/,u0=/[\\^$*+?|[\]().{}]/g;function ne(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function f0(e){return e.replace(u0,"\\$&")}function Hn(e){return new RegExp("^(?:"+e.map(f0).join("|")+")","i")}function jn(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function s0(e,t,n){var r=we.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function c0(e,t,n){var r=we.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function h0(e,t,n){var r=we.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function g0(e,t,n){var r=we.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function d0(e,t,n){var r=we.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function pl(e,t,n){var r=we.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function _l(e,t,n){var r=we.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function m0(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function y0(e,t,n){var r=we.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function p0(e,t,n){var r=we.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function bl(e,t,n){var r=we.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function _0(e,t,n){var r=we.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function wl(e,t,n){var r=we.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function b0(e,t,n){var r=we.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function w0(e,t,n){var r=we.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function v0(e,t,n){var r=we.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function k0(e,t,n){var r=we.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function S0(e,t,n){var r=l0.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function M0(e,t,n){var r=we.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function T0(e,t,n){var r=we.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function vl(e,t){return ne(e.getDate(),t,2)}function x0(e,t){return ne(e.getHours(),t,2)}function D0(e,t){return ne(e.getHours()%12||12,t,2)}function E0(e,t){return ne(1+na.count(vt(e),e),t,3)}function $u(e,t){return ne(e.getMilliseconds(),t,3)}function C0(e,t){return $u(e,t)+"000"}function R0(e,t){return ne(e.getMonth()+1,t,2)}function N0(e,t){return ne(e.getMinutes(),t,2)}function z0(e,t){return ne(e.getSeconds(),t,2)}function A0(e){var t=e.getDay();return t===0?7:t}function P0(e,t){return ne(Ku.count(vt(e)-1,e),t,2)}function ef(e){var t=e.getDay();return t>=4||t===0?sn(e):sn.ceil(e)}function U0(e,t){return e=ef(e),ne(sn.count(vt(e),e)+(vt(e).getDay()===4),t,2)}function L0(e){return e.getDay()}function F0(e,t){return ne(Ei.count(vt(e)-1,e),t,2)}function H0(e,t){return ne(e.getFullYear()%100,t,2)}function j0(e,t){return e=ef(e),ne(e.getFullYear()%100,t,2)}function I0(e,t){return ne(e.getFullYear()%1e4,t,4)}function W0(e,t){var n=e.getDay();return e=n>=4||n===0?sn(e):sn.ceil(e),ne(e.getFullYear()%1e4,t,4)}function Y0(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ne(t/60|0,"0",2)+ne(t%60,"0",2)}function kl(e,t){return ne(e.getUTCDate(),t,2)}function q0(e,t){return ne(e.getUTCHours(),t,2)}function O0(e,t){return ne(e.getUTCHours()%12||12,t,2)}function B0(e,t){return ne(1+ra.count(kt(e),e),t,3)}function tf(e,t){return ne(e.getUTCMilliseconds(),t,3)}function G0(e,t){return tf(e,t)+"000"}function V0(e,t){return ne(e.getUTCMonth()+1,t,2)}function Z0(e,t){return ne(e.getUTCMinutes(),t,2)}function X0(e,t){return ne(e.getUTCSeconds(),t,2)}function Q0(e){var t=e.getUTCDay();return t===0?7:t}function K0(e,t){return ne(Ju.count(kt(e)-1,e),t,2)}function nf(e){var t=e.getUTCDay();return t>=4||t===0?cn(e):cn.ceil(e)}function J0(e,t){return e=nf(e),ne(cn.count(kt(e),e)+(kt(e).getUTCDay()===4),t,2)}function $0(e){return e.getUTCDay()}function eh(e,t){return ne(Ci.count(kt(e)-1,e),t,2)}function th(e,t){return ne(e.getUTCFullYear()%100,t,2)}function nh(e,t){return e=nf(e),ne(e.getUTCFullYear()%100,t,2)}function rh(e,t){return ne(e.getUTCFullYear()%1e4,t,4)}function ih(e,t){var n=e.getUTCDay();return e=n>=4||n===0?cn(e):cn.ceil(e),ne(e.getUTCFullYear()%1e4,t,4)}function oh(){return"+0000"}function Sl(){return"%"}function Ml(e){return+e}function Tl(e){return Math.floor(+e/1e3)}var $t,rf,of;ah({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ah(e){return $t=a0(e),rf=$t.format,of=$t.parse,$t.utcFormat,$t.utcParse,$t}function lh(){var e=0,t=1,n,r,i,o,l=qe,a=!1,c;function s(f){return f==null||isNaN(f=+f)?c:l(i===0?.5:(f=(o(f)-n)*i,a?Math.max(0,Math.min(1,f)):f))}s.domain=function(f){return arguments.length?([e,t]=f,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),s):[e,t]},s.clamp=function(f){return arguments.length?(a=!!f,s):a},s.interpolator=function(f){return arguments.length?(l=f,s):l};function u(f){return function(g){var h,d;return arguments.length?([h,d]=g,l=f(h,d),s):[l(0),l(1)]}}return s.range=u(zi),s.rangeRound=u(vu),s.unknown=function(f){return arguments.length?(c=f,s):c},function(f){return o=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),s}}function uh(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function ia(){var e=ea(lh()(qe));return e.copy=function(){return uh(e,ia())},Pc.apply(e,arguments)}function af(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const lf=e=>bs(e[e.length-1]);var fh=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(af);const sh=lf(fh);var ch=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(af);const hh=lf(ch);function en(e){return function(){return e}}function gh(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Rs(t)}function dh(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function uf(e){this._context=e}uf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ff(e){return new uf(e)}function mh(e){return e[0]}function yh(e){return e[1]}function ph(e,t){var n=en(!0),r=null,i=ff,o=null,l=gh(a);e=typeof e=="function"?e:e===void 0?mh:en(e),t=typeof t=="function"?t:t===void 0?yh:en(t);function a(c){var s,u=(c=dh(c)).length,f,g=!1,h;for(r==null&&(o=i(h=l())),s=0;s<=u;++s)!(s<u&&n(f=c[s],s,c))===g&&((g=!g)?o.lineStart():o.lineEnd()),g&&o.point(+e(f,s,c),+t(f,s,c));if(h)return o=null,h+""||null}return a.x=function(c){return arguments.length?(e=typeof c=="function"?c:en(+c),a):e},a.y=function(c){return arguments.length?(t=typeof c=="function"?c:en(+c),a):t},a.defined=function(c){return arguments.length?(n=typeof c=="function"?c:en(!!c),a):n},a.curve=function(c){return arguments.length?(i=c,r!=null&&(o=i(r)),a):i},a.context=function(c){return arguments.length?(c==null?r=o=null:o=i(r=c),a):r},a}function _h(e){return e===0?!0:e}function st(e){return _h(e)?Array.isArray(e)?t=>e.map(n=>typeof n!="function"?t[n]:n(t)):typeof e!="function"?t=>t[e]:e:null}function wo(e,t={}){return Object.fromEntries(Object.entries(e).filter(([n,r])=>r!==void 0&&t[n]===void 0))}function bh(e,t=300){let n;return(...r)=>{clearTimeout(n),n=setTimeout(()=>{e.apply(this,r)},t)}}function wh(e,t,n={}){if(!Array.isArray(e))throw new TypeError(`The first argument of calcUniques() must be an array. You passed in a ${typeof e}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(t)||t===void 0||t===null)throw new TypeError("The second argument of calcUniques() must be an object with field names as keys as accessor functions as values.");const r={},i=Object.keys(t),o=i.length;let l,a,c,s,u,f,g;const h=e.length;for(l=0;l<o;l+=1){for(g=new Uf,s=i[l],u=t[s],a=0;a<h;a+=1)if(f=u(e[a]),Array.isArray(f)){const p=f.length;for(c=0;c<p;c+=1)g.add(f[c])}else g.add(f);const d=Array.from(g);(n.sort===!0||n[s]===!0)&&d.sort(Vn),r[s]=d}return r}function vh(e,t){if(!Array.isArray(e))throw new TypeError(`The first argument of calcExtents() must be an array. You passed in a ${typeof e}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(t)||t===void 0||t===null)throw new TypeError("The second argument of calcExtents() must be an object with field names as keys as accessor functions as values.");const n={},r=Object.keys(t),i=r.length;let o,l,a,c,s,u,f,g;const h=e.length;for(o=0;o<i;o+=1){for(c=r[o],f=t[c],s=null,u=null,l=0;l<h;l+=1)if(g=f(e[l],l),Array.isArray(g)){const d=g.length;for(a=0;a<d;a+=1)g[a]!==!1&&g[a]!==void 0&&g[a]!==null&&Number.isNaN(g[a])===!1&&((s===null||g[a]<s)&&(s=g[a]),(u===null||g[a]>u)&&(u=g[a]))}else g!==!1&&g!==void 0&&g!==null&&Number.isNaN(g)===!1&&((s===null||g<s)&&(s=g),(u===null||g>u)&&(u=g));n[c]=[s,u]}return n}function Bn(e,t){return e.length!==t.length?!1:e.every(n=>t.includes(n))}function sf(e){return!!(typeof e.bandwidth=="function"||Bn(Object.keys(e),["domain","range","unknown","copy"]))}function kh(e,t,n){const r=Object.entries(n).reduce((o,[l,a])=>{const c=sf(a.scale)===!0?"ordinal":"other";return o[c]||(o[c]={}),o[c][l]=t[l],o},{ordinal:!1,other:!1});let i={};if(r.ordinal){const o=Object.fromEntries(Object.entries(n).map(([l,a])=>[l,a.sort]));i=wh(e,r.ordinal,o)}return r.other&&(i={...i,...vh(e,r.other)}),i}function Sh(e=[],t){return Array.isArray(t)===!0?t.map((n,r)=>n===null?e[r]:n):e}function Jr(e){return function([n,r]){return typeof r=="function"&&(r=r(n[e])),n?Sh(n[e],r):r}}const Gn={x:si,y:si,z:si,r:Bc};function Mh(e){return e.constant?"symlog":e.base?"log":e.exponent?e.exponent()===.5?"sqrt":"pow":"other"}function xl(e){return e}function Th(e){return t=>Math.log(e*t)}function xh(e){return t=>e*Math.exp(t)}function Dh(e){return t=>Math.sign(t)*Math.log1p(Math.abs(t/e))}function Eh(e){return t=>Math.sign(t)*Math.expm1(Math.abs(t))*e}function $r(e){return function(n){return n<0?-Math.pow(-n,e):Math.pow(n,e)}}function Ch(e){const t=Mh(e);if(t==="log"){const n=Math.sign(e.domain()[0]);return{lift:Th(n),ground:xh(n),scaleType:t}}return t==="pow"?{lift:$r(1),ground:$r(1/1),scaleType:t}:t==="sqrt"?{lift:$r(.5),ground:$r(1/.5),scaleType:t}:t==="symlog"?{lift:Dh(1),ground:Eh(1),scaleType:t}:{lift:xl,ground:xl,scaleType:t}}function Ri(e){return e.replace(/^\w/,t=>t.toUpperCase())}function Re(e,t=""){return`scale${Ri(t)}${Ri(e)}`}function cf(e){if(typeof e.bandwidth=="function")return typeof e.paddingInner=="function"?Re("band"):Re("point");if(Bn(Object.keys(e),["domain","range","unknown","copy"]))return Re("ordinal");let t="";if(e.interpolator&&(e.domain().length===3?t="diverging":t="sequential"),e.quantiles)return Re("quantile",t);if(e.thresholds)return Re("quantize",t);if(e.constant)return Re("symlog",t);if(e.base)return Re("log",t);if(e.exponent)return e.exponent()===.5?Re("sqrt",t):Re("pow",t);if(Bn(Object.keys(e),["domain","range","invertExtent","unknown","copy"]))return Re("threshold");if(Bn(Object.keys(e),["invert","range","domain","unknown","copy","ticks","tickFormat","nice"]))return Re("identity");if(Bn(Object.keys(e),["invert","domain","range","rangeRound","round","clamp","unknown","copy","ticks","tickFormat","nice"]))return Re("radial");if(t)return Re(t);if(e.domain()[0]instanceof Date){const n=new Date;let r;return n.getDay=()=>r="time",n.getUTCDay=()=>r="utc",e.tickFormat(0,"%a")(n),Re(r)}return Re("linear")}const Rh=["scaleThreshold","scaleQuantile","scaleQuantize","scaleSequentialQuantile"];function Nh(e,t){if(typeof e.range!="function")throw new Error("Scale method `range` must be a function");if(typeof e.domain!="function")throw new Error("Scale method `domain` must be a function");if(!Array.isArray(t)||Rh.includes(cf(e))||sf(e)===!0)return e.domain();const{lift:n,ground:r}=Ch(e),i=e.domain()[0],o=Object.prototype.toString.call(i)==="[object Date]",[l,a]=e.domain().map(h=>n(o?h.getTime():h)),[c,s]=e.range(),u=t[0]||0,f=t[1]||0,g=(a-l)/(Math.abs(s-c)-u-f);return[l-u*g,f*g+a].map(h=>r(o?new Date(h):h))}function zh(e,t,n,r,i){let o,l;return i===!0?(o=0,l=100):(o=e==="r"?1:0,l=e==="y"?n:e==="r"?25:t),r===!0?[l,o]:[o,l]}function Ah(e,t,n,r,i,o){return i?typeof i=="function"?i({width:t,height:n}):i:zh(e,t,n,r,o)}function ei(e){return function([n,r,i,o,l,a,c,s,u,f]){if(r===null)return null;const g=Ah(e,c,s,a,u,f),h=n===Gn[e]?n():n.copy();return h.domain(i),(!h.interpolator||typeof h.interpolator=="function"&&h.interpolator().name.startsWith("identity"))&&h.range(g),o&&h.domain(Nh(h,o)),(l===!0||typeof l=="number")&&(typeof h.nice=="function"?h.nice(typeof l=="number"?l:void 0):console.error(`[Layer Cake] You set \`${e}Nice: true\` but the ${e}Scale does not have a \`.nice\` method. Ignoring...`)),h}}function ti([e,t]){return(n,r)=>{const i=e(n,r);return Array.isArray(i)?i.map(o=>t(o)):t(i)}}function ni([e]){if(typeof e=="function"){if(typeof e.range=="function")return e.range();console.error("[LayerCake] Your scale doesn't have a `.range` method?")}return null}const Ie="    ";function Ph(e){const{r:t,g:n,b:r,opacity:i}=Kn(e);return[t,n,r].every(o=>o>=0&&o<=255)?{r:t,g:n,b:r,o:i}:!1}function Uh({r:e,g:t,b:n}){return(.2126*e+.7152*t+.0722*n)/255>.6?"black":"white"}function Lh(e){console.log("/********* LayerCake Debug ************/"),console.log("Bounding box:"),Fh(e.boundingBox),console.log("Data:"),console.log(Ie,e.data),e.flatData&&(console.log("flatData:"),console.log(Ie,e.flatData)),console.log("Scales:"),Object.keys(e.activeGetters).forEach(t=>{Hh(t,e[`${t}Scale`],e[t])}),console.log(`/************ End LayerCake Debug ***************/
`)}function Fh(e){Object.entries(e).forEach(([t,n])=>{console.log(`${Ie}${t}:`,n)})}function Hh(e,t,n){const r=cf(t);console.log(`${Ie}${e}:`),console.log(`${Ie}${Ie}Accessor: "${n.toString()}"`),console.log(`${Ie}${Ie}Type: ${r}`),Dl(t,"domain"),Dl(t,"range"," ")}function Dl(e,t,n=""){const r=e[t](),i=Ih(r);i?jh(i,t,r):console.log(`${Ie}${Ie}${Ri(t)}:${n}`,r)}function jh(e,t,n){console.log(`${Ie}${Ie}${Ri(t)}:    %cArray%c(${n.length}) `+e[0]+"%c ]","color: #1377e4","color: #737373","color: #1478e4",...e[1],"color: #1478e4")}function Ih(e){const t=[],n=e.map((r,i)=>{const o=Ph(r);if(o!==!1){t.push(o);const l=i===e.length-1?" ":"";return`%c ${r}${l}`}return r});return t.length?[`%c[ ${n.join(", ")}`,t.map(r=>`background-color: rgba(${r.r}, ${r.g}, ${r.b}, ${r.o}); color:${Uh(r)};`)]:null}const Wh=e=>({element:e[0]&4,width:e[1]&8,height:e[1]&16,aspectRatio:e[1]&32,containerWidth:e[1]&2,containerHeight:e[1]&1,activeGetters:e[0]&1024,percentRange:e[1]&4,x:e[0]&1073741824,y:e[0]&536870912,z:e[0]&268435456,r:e[0]&134217728,custom:e[0]&16384,data:e[0]&4096,xNice:e[0]&67108864,yNice:e[0]&33554432,zNice:e[0]&16777216,rNice:e[0]&8388608,xDomainSort:e[1]&64,yDomainSort:e[1]&128,zDomainSort:e[1]&256,rDomainSort:e[1]&512,xReverse:e[0]&4194304,yReverse:e[0]&2097152,zReverse:e[0]&1048576,rReverse:e[0]&524288,xPadding:e[0]&262144,yPadding:e[0]&131072,zPadding:e[0]&65536,rPadding:e[0]&32768,padding:e[1]&1024,flatData:e[0]&2048,extents:e[1]&2048,xDomain:e[1]&4096,yDomain:e[1]&8192,zDomain:e[1]&16384,rDomain:e[1]&32768,xRange:e[1]&65536,yRange:e[1]&131072,zRange:e[1]&262144,rRange:e[1]&524288,config:e[0]&8192,xScale:e[0]&512,xGet:e[1]&1048576,yScale:e[0]&256,yGet:e[1]&2097152,zScale:e[0]&128,zGet:e[1]&4194304,rScale:e[0]&64,rGet:e[1]&8388608}),El=e=>({element:e[2],width:e[34],height:e[35],aspectRatio:e[36],containerWidth:e[32],containerHeight:e[31],activeGetters:e[10],percentRange:e[33],x:e[30],y:e[29],z:e[28],r:e[27],custom:e[14],data:e[12],xNice:e[26],yNice:e[25],zNice:e[24],rNice:e[23],xDomainSort:e[37],yDomainSort:e[38],zDomainSort:e[39],rDomainSort:e[40],xReverse:e[22],yReverse:e[21],zReverse:e[20],rReverse:e[19],xPadding:e[18],yPadding:e[17],zPadding:e[16],rPadding:e[15],padding:e[41],flatData:e[11],extents:e[42],xDomain:e[43],yDomain:e[44],zDomain:e[45],rDomain:e[46],xRange:e[47],yRange:e[48],zRange:e[49],rRange:e[50],config:e[13],xScale:e[9],xGet:e[51],yScale:e[8],yGet:e[52],zScale:e[7],zGet:e[53],rScale:e[6],rGet:e[54]});function Cl(e){let t,n,r;const i=e[169].default,o=ii(i,e,e[168],El);return{c(){t=q("div"),o&&o.c(),this.h()},l(l){t=O(l,"DIV",{class:!0});var a=X(t);o&&o.l(a),a.forEach(M),this.h()},h(){y(t,"class","layercake-container svelte-w5m4wa"),dn(()=>e[171].call(t)),ye(t,"position",e[5]),ye(t,"top",e[5]==="absolute"?"0":null),ye(t,"right",e[5]==="absolute"?"0":null),ye(t,"bottom",e[5]==="absolute"?"0":null),ye(t,"left",e[5]==="absolute"?"0":null),ye(t,"pointer-events",e[4]===!1?"none":null)},m(l,a){j(l,t,a),o&&o.m(t,null),e[170](t),n=Nf(t,e[171].bind(t)),r=!0},p(l,a){o&&o.p&&(!r||a[0]&2147483588|a[1]&16777215|a[5]&8192)&&oi(o,i,l,l[168],r?li(i,l[168],a,Wh):ai(l[168]),El),a[0]&32&&ye(t,"position",l[5]),a[0]&32&&ye(t,"top",l[5]==="absolute"?"0":null),a[0]&32&&ye(t,"right",l[5]==="absolute"?"0":null),a[0]&32&&ye(t,"bottom",l[5]==="absolute"?"0":null),a[0]&32&&ye(t,"left",l[5]==="absolute"?"0":null),a[0]&16&&ye(t,"pointer-events",l[4]===!1?"none":null)},i(l){r||(B(o,l),r=!0)},o(l){Z(o,l),r=!1},d(l){l&&M(t),o&&o.d(l),e[170](null),n()}}}function Yh(e){let t,n,r=(e[3]===!0||typeof window<"u")&&Cl(e);return{c(){r&&r.c(),t=Oe()},l(i){r&&r.l(i),t=Oe()},m(i,o){r&&r.m(i,o),j(i,t,o),n=!0},p(i,o){i[3]===!0||typeof window<"u"?r?(r.p(i,o),o[0]&8&&B(r,1)):(r=Cl(i),r.c(),B(r,1),r.m(t.parentNode,t)):r&&(Go(),Z(r,1,1,()=>{r=null}),Vo())},i(i){n||(B(r),n=!0)},o(i){Z(r),n=!1},d(i){i&&M(t),r&&r.d(i)}}}function qh(e,t,n){let r,i,o,l,a,c,s,u,f,g,h,d,p,v,D,S,w,k,x,b,N,P,L,C,T,R,A,z,_,I,Y,W,ue,Ve,Ee,Pe,Ce,Ze,Ue,xt,Dt,mn,F,V,K,E,ve,fe,Te,xe,et,yn,sa,ca,ha,ga,da,ma,ya,pa,_a,ba,wa,va,ka,Sa,Ma,{$$slots:df={},$$scope:Ta}=t;const mf=bh(Lh,200);let{ssr:Ai=!1}=t,{pointerEvents:xa=!0}=t,{position:Da="relative"}=t,{percentRange:ir=!1}=t,{width:Pi=void 0}=t,{height:Ui=void 0}=t,{containerWidth:Et=Pi||100}=t,{containerHeight:Ct=Ui||100}=t,{element:or=void 0}=t,{x:Rt=void 0}=t,{y:Nt=void 0}=t,{z:zt=void 0}=t,{r:At=void 0}=t,{data:Pt=[]}=t,{xDomain:Ut=void 0}=t,{yDomain:Lt=void 0}=t,{zDomain:Ft=void 0}=t,{rDomain:Ht=void 0}=t,{xNice:ar=!1}=t,{yNice:lr=!1}=t,{zNice:ur=!1}=t,{rNice:fr=!1}=t,{xPadding:sr=void 0}=t,{yPadding:cr=void 0}=t,{zPadding:hr=void 0}=t,{rPadding:gr=void 0}=t,{xScale:dr=Gn.x}=t,{yScale:pn=Gn.y}=t,{zScale:mr=Gn.z}=t,{rScale:yr=Gn.r}=t,{xRange:jt=void 0}=t,{yRange:It=void 0}=t,{zRange:Wt=void 0}=t,{rRange:Yt=void 0}=t,{xReverse:pr=!1}=t,{yReverse:_r=void 0}=t,{zReverse:br=!1}=t,{rReverse:wr=!1}=t,{xDomainSort:Li=!0}=t,{yDomainSort:Fi=!0}=t,{zDomainSort:Hi=!0}=t,{rDomainSort:ji=!0}=t,{padding:vr={}}=t,{extents:kr={}}=t,{deriveScales:Sr={}}=t,{flatData:_n=void 0}=t,{custom:Mr={}}=t,{debug:Ii=!1}=t,{verbose:Wi=!0}=t,Yi=!1;gn(()=>{Yi=!0});const re={},lt=G(ir);U(e,lt,m=>n(33,E=m));const qt=G(Et);U(e,qt,m=>n(32,K=m));const Ot=G(Ct);U(e,Ot,m=>n(31,V=m));const Tr=G(wo(kr));U(e,Tr,m=>n(186,F=m));const xr=G(Pt);U(e,xr,m=>n(12,g=m));const bn=G(_n||Pt);U(e,bn,m=>n(11,f=m));const Dr=G(vr);U(e,Dr,m=>n(185,mn=m));const Bt=G(st(Rt));U(e,Bt,m=>n(30,Dt=m));const Gt=G(st(Nt));U(e,Gt,m=>n(29,xt=m));const Vt=G(st(zt));U(e,Vt,m=>n(28,Ue=m));const Zt=G(st(At));U(e,Zt,m=>n(27,Ze=m));const Er=G(Ut);U(e,Er,m=>n(184,Ce=m));const Cr=G(Lt);U(e,Cr,m=>n(183,Pe=m));const Rr=G(Ft);U(e,Rr,m=>n(182,Ee=m));const Nr=G(Ht);U(e,Nr,m=>n(181,Ve=m));const wn=G(ar);U(e,wn,m=>n(26,ue=m));const vn=G(lr);U(e,vn,m=>n(25,W=m));const kn=G(ur);U(e,kn,m=>n(24,Y=m));const Sn=G(fr);U(e,Sn,m=>n(23,I=m));const Mn=G(pr);U(e,Mn,m=>n(22,_=m));const Tn=G(r);U(e,Tn,m=>n(21,z=m));const xn=G(br);U(e,xn,m=>n(20,A=m));const Dn=G(wr);U(e,Dn,m=>n(19,R=m));const En=G(sr);U(e,En,m=>n(18,T=m));const Cn=G(cr);U(e,Cn,m=>n(17,C=m));const Rn=G(hr);U(e,Rn,m=>n(16,L=m));const Nn=G(gr);U(e,Nn,m=>n(15,P=m));const zr=G(jt);U(e,zr,m=>n(180,N=m));const Ar=G(It);U(e,Ar,m=>n(179,b=m));const Pr=G(Wt);U(e,Pr,m=>n(178,x=m));const Ur=G(Yt);U(e,Ur,m=>n(177,k=m));const zn=G(dr);U(e,zn,m=>n(176,w=m));const An=G(pn);U(e,An,m=>n(175,S=m));const Pn=G(mr);U(e,Pn,m=>n(174,D=m));const Un=G(yr);U(e,Un,m=>n(173,v=m));const Lr=G(Li);U(e,Lr,m=>n(37,xe=m));const Fr=G(Fi);U(e,Fr,m=>n(38,et=m));const Hr=G(Hi);U(e,Hr,m=>n(39,yn=m));const jr=G(ji);U(e,jr,m=>n(40,sa=m));const Ir=G(re);U(e,Ir,m=>n(13,d=m));const Wr=G(Mr);U(e,Wr,m=>n(14,p=m));const qi=G(Sr);U(e,qi,m=>n(167,h=m));const Yr=he([Bt,Gt,Vt,Zt],([m,Le,tt,be])=>{const dt={};return m&&(dt.x=m),Le&&(dt.y=Le),tt&&(dt.z=tt),be&&(dt.r=be),dt});U(e,Yr,m=>n(10,s=m));const qr=he([Dr,qt,Ot],([m])=>Object.assign({top:0,right:0,bottom:0,left:0},m));U(e,qr,m=>n(41,ca=m));const Or=he([qt,Ot,qr],([m,Le,tt])=>{const be={};return be.top=tt.top,be.right=m-tt.right,be.bottom=Le-tt.bottom,be.left=tt.left,be.width=be.right-be.left,be.height=be.bottom-be.top,Wi===!0&&(be.width<=0&&Yi===!0&&console.warn("[LayerCake] Target div has zero or negative width. Did you forget to set an explicit width in CSS on the container?"),be.height<=0&&Yi===!0&&console.warn("[LayerCake] Target div has zero or negative height. Did you forget to set an explicit height in CSS on the container?")),be});U(e,Or,m=>n(166,u=m));const ut=he([Or],([m])=>m.width);U(e,ut,m=>n(34,ve=m));const ft=he([Or],([m])=>m.height);U(e,ft,m=>n(35,fe=m));const Xe=he([bn,Yr,Tr,zn,An,Un,Pn,Lr,Fr,Hr,jr],([m,Le,tt,be,dt,kf,Sf,Mf,Tf,xf,Df])=>{const Ef={x:{scale:be,sort:Mf},y:{scale:dt,sort:Tf},r:{scale:kf,sort:Df},z:{scale:Sf,sort:xf}},ro=wo(Le,tt),Cf=Object.fromEntries(Object.keys(ro).map(io=>[io,Ef[io]]));return Object.keys(ro).length>0?{...kh(m,ro,Cf),...tt}:{}});U(e,Xe,m=>n(42,ha=m));const Oi=he([Xe,Er],Jr("x"));U(e,Oi,m=>n(43,ga=m));const Bi=he([Xe,Cr],Jr("y"));U(e,Bi,m=>n(44,da=m));const Gi=he([Xe,Rr],Jr("z"));U(e,Gi,m=>n(45,ma=m));const Vi=he([Xe,Nr],Jr("r"));U(e,Vi,m=>n(46,ya=m));const Xt=he([zn,Xe,Oi,En,wn,Mn,ut,ft,zr,lt],ei("x"));U(e,Xt,m=>n(9,c=m));const Zi=he([Bt,Xt],ti);U(e,Zi,m=>n(51,va=m));const Qt=he([An,Xe,Bi,Cn,vn,Tn,ut,ft,Ar,lt],ei("y"));U(e,Qt,m=>n(8,a=m));const Xi=he([Gt,Qt],ti);U(e,Xi,m=>n(52,ka=m));const Kt=he([Pn,Xe,Gi,Rn,kn,xn,ut,ft,Pr,lt],ei("z"));U(e,Kt,m=>n(7,l=m));const Qi=he([Vt,Kt],ti);U(e,Qi,m=>n(53,Sa=m));const Jt=he([Un,Xe,Vi,Nn,Sn,Dn,ut,ft,Ur,lt],ei("r"));U(e,Jt,m=>n(6,o=m));const Ki=he([Zt,Jt],ti);U(e,Ki,m=>n(54,Ma=m));const yf=he(Xt,m=>m.domain()),pf=he(Qt,m=>m.domain()),_f=he(Kt,m=>m.domain()),bf=he(Jt,m=>m.domain()),Ji=he([Xt],ni);U(e,Ji,m=>n(47,pa=m));const $i=he([Qt],ni);U(e,$i,m=>n(48,_a=m));const eo=he([Kt],ni);U(e,eo,m=>n(49,ba=m));const to=he([Jt],ni);U(e,to,m=>n(50,wa=m));const no=he([ut,ft],([m,Le])=>m/Le);U(e,no,m=>n(36,Te=m));const Ea=Object.fromEntries(Object.entries(h).map(([m,Le])=>[m,G(Le({xScale:c.copy(),yScale:a.copy(),zScale:l.copy(),rScale:o.copy()}))]));function wf(m){ko[m?"unshift":"push"](()=>{or=m,n(2,or)})}function vf(){Et=this.clientWidth,Ct=this.clientHeight,n(0,Et),n(1,Ct)}return e.$$set=m=>{"ssr"in m&&n(3,Ai=m.ssr),"pointerEvents"in m&&n(4,xa=m.pointerEvents),"position"in m&&n(5,Da=m.position),"percentRange"in m&&n(120,ir=m.percentRange),"width"in m&&n(121,Pi=m.width),"height"in m&&n(122,Ui=m.height),"containerWidth"in m&&n(0,Et=m.containerWidth),"containerHeight"in m&&n(1,Ct=m.containerHeight),"element"in m&&n(2,or=m.element),"x"in m&&n(123,Rt=m.x),"y"in m&&n(124,Nt=m.y),"z"in m&&n(125,zt=m.z),"r"in m&&n(126,At=m.r),"data"in m&&n(127,Pt=m.data),"xDomain"in m&&n(128,Ut=m.xDomain),"yDomain"in m&&n(129,Lt=m.yDomain),"zDomain"in m&&n(130,Ft=m.zDomain),"rDomain"in m&&n(131,Ht=m.rDomain),"xNice"in m&&n(132,ar=m.xNice),"yNice"in m&&n(133,lr=m.yNice),"zNice"in m&&n(134,ur=m.zNice),"rNice"in m&&n(135,fr=m.rNice),"xPadding"in m&&n(136,sr=m.xPadding),"yPadding"in m&&n(137,cr=m.yPadding),"zPadding"in m&&n(138,hr=m.zPadding),"rPadding"in m&&n(139,gr=m.rPadding),"xScale"in m&&n(140,dr=m.xScale),"yScale"in m&&n(141,pn=m.yScale),"zScale"in m&&n(142,mr=m.zScale),"rScale"in m&&n(143,yr=m.rScale),"xRange"in m&&n(144,jt=m.xRange),"yRange"in m&&n(145,It=m.yRange),"zRange"in m&&n(146,Wt=m.zRange),"rRange"in m&&n(147,Yt=m.rRange),"xReverse"in m&&n(148,pr=m.xReverse),"yReverse"in m&&n(149,_r=m.yReverse),"zReverse"in m&&n(150,br=m.zReverse),"rReverse"in m&&n(151,wr=m.rReverse),"xDomainSort"in m&&n(152,Li=m.xDomainSort),"yDomainSort"in m&&n(153,Fi=m.yDomainSort),"zDomainSort"in m&&n(154,Hi=m.zDomainSort),"rDomainSort"in m&&n(155,ji=m.rDomainSort),"padding"in m&&n(156,vr=m.padding),"extents"in m&&n(157,kr=m.extents),"deriveScales"in m&&n(158,Sr=m.deriveScales),"flatData"in m&&n(159,_n=m.flatData),"custom"in m&&n(160,Mr=m.custom),"debug"in m&&n(161,Ii=m.debug),"verbose"in m&&n(162,Wi=m.verbose),"$$scope"in m&&n(168,Ta=m.$$scope)},e.$$.update=()=>{if(e.$$.dirty[4]&33685504&&n(165,r=typeof _r>"u"?typeof pn.bandwidth!="function":_r),e.$$.dirty[3]&1073741824&&Rt&&n(163,re.x=Rt,re),e.$$.dirty[4]&1&&Nt&&n(163,re.y=Nt,re),e.$$.dirty[4]&2&&zt&&n(163,re.z=zt,re),e.$$.dirty[4]&4&&At&&n(163,re.r=At,re),e.$$.dirty[4]&16&&Ut&&n(163,re.xDomain=Ut,re),e.$$.dirty[4]&32&&Lt&&n(163,re.yDomain=Lt,re),e.$$.dirty[4]&64&&Ft&&n(163,re.zDomain=Ft,re),e.$$.dirty[4]&128&&Ht&&n(163,re.rDomain=Ht,re),e.$$.dirty[4]&1048576&&jt&&n(163,re.xRange=jt,re),e.$$.dirty[4]&2097152&&It&&n(163,re.yRange=It,re),e.$$.dirty[4]&4194304&&Wt&&n(163,re.zRange=Wt,re),e.$$.dirty[4]&8388608&&Yt&&n(163,re.rRange=Yt,re),e.$$.dirty[3]&134217728&&Q(lt,E=ir,E),e.$$.dirty[0]&1&&Q(qt,K=Et,K),e.$$.dirty[0]&2&&Q(Ot,V=Ct,V),e.$$.dirty[5]&4&&Q(Tr,F=wo(kr),F),e.$$.dirty[4]&8&&Q(xr,g=Pt,g),e.$$.dirty[4]&8|e.$$.dirty[5]&16&&Q(bn,f=_n||Pt,f),e.$$.dirty[5]&2&&Q(Dr,mn=vr,mn),e.$$.dirty[3]&1073741824&&Q(Bt,Dt=st(Rt),Dt),e.$$.dirty[4]&1&&Q(Gt,xt=st(Nt),xt),e.$$.dirty[4]&2&&Q(Vt,Ue=st(zt),Ue),e.$$.dirty[4]&4&&Q(Zt,Ze=st(At),Ze),e.$$.dirty[4]&16&&Q(Er,Ce=Ut,Ce),e.$$.dirty[4]&32&&Q(Cr,Pe=Lt,Pe),e.$$.dirty[4]&64&&Q(Rr,Ee=Ft,Ee),e.$$.dirty[4]&128&&Q(Nr,Ve=Ht,Ve),e.$$.dirty[4]&256&&Q(wn,ue=ar,ue),e.$$.dirty[4]&512&&Q(vn,W=lr,W),e.$$.dirty[4]&1024&&Q(kn,Y=ur,Y),e.$$.dirty[4]&2048&&Q(Sn,I=fr,I),e.$$.dirty[4]&16777216&&Q(Mn,_=pr,_),e.$$.dirty[5]&1024&&Q(Tn,z=r,z),e.$$.dirty[4]&67108864&&Q(xn,A=br,A),e.$$.dirty[4]&134217728&&Q(Dn,R=wr,R),e.$$.dirty[4]&4096&&Q(En,T=sr,T),e.$$.dirty[4]&8192&&Q(Cn,C=cr,C),e.$$.dirty[4]&16384&&Q(Rn,L=hr,L),e.$$.dirty[4]&32768&&Q(Nn,P=gr,P),e.$$.dirty[4]&1048576&&Q(zr,N=jt,N),e.$$.dirty[4]&2097152&&Q(Ar,b=It,b),e.$$.dirty[4]&4194304&&Q(Pr,x=Wt,x),e.$$.dirty[4]&8388608&&Q(Ur,k=Yt,k),e.$$.dirty[4]&65536&&Q(zn,w=dr,w),e.$$.dirty[4]&131072&&Q(An,S=pn,S),e.$$.dirty[4]&262144&&Q(Pn,D=mr,D),e.$$.dirty[4]&524288&&Q(Un,v=yr,v),e.$$.dirty[5]&32&&Q(Wr,p=Mr,p),e.$$.dirty[5]&256&&Q(Ir,d=re,d),e.$$.dirty[5]&8&&Q(qi,h=Sr,h),e.$$.dirty[0]&960|e.$$.dirty[5]&4096&&h)for(const[m,Le]of Object.entries(h))Ea[m].set(Le({xScale:c.copy(),yScale:a.copy(),zScale:l.copy(),rScale:o.copy()}));e.$$.dirty[5]&512&&vo("LayerCake",i),e.$$.dirty[0]&8136|e.$$.dirty[5]&2384&&u&&Ii===!0&&(Ai===!0||typeof window<"u")&&mf({data:g,flatData:typeof _n<"u"?f:null,boundingBox:u,activeGetters:s,x:re.x,y:re.y,z:re.z,r:re.r,xScale:c,yScale:a,zScale:l,rScale:o})},n(164,i={...Ea,activeGetters:Yr,width:ut,height:ft,percentRange:lt,aspectRatio:no,containerWidth:qt,containerHeight:Ot,x:Bt,y:Gt,z:Vt,r:Zt,custom:Wr,data:xr,xNice:wn,yNice:vn,zNice:kn,rNice:Sn,xDomainSort:Lr,yDomainSort:Fr,zDomainSort:Hr,rDomainSort:jr,xReverse:Mn,yReverse:Tn,zReverse:xn,rReverse:Dn,xPadding:En,yPadding:Cn,zPadding:Rn,rPadding:Nn,padding:qr,flatData:bn,extents:Xe,xDomain:yf,yDomain:pf,zDomain:_f,rDomain:bf,xRange:Ji,yRange:$i,zRange:eo,rRange:to,config:Ir,xScale:Xt,xGet:Zi,yScale:Qt,yGet:Xi,zScale:Kt,zGet:Qi,rScale:Jt,rGet:Ki}),[Et,Ct,or,Ai,xa,Da,o,l,a,c,s,f,g,d,p,P,L,C,T,R,A,z,_,I,Y,W,ue,Ze,Ue,xt,Dt,V,K,E,ve,fe,Te,xe,et,yn,sa,ca,ha,ga,da,ma,ya,pa,_a,ba,wa,va,ka,Sa,Ma,lt,qt,Ot,Tr,xr,bn,Dr,Bt,Gt,Vt,Zt,Er,Cr,Rr,Nr,wn,vn,kn,Sn,Mn,Tn,xn,Dn,En,Cn,Rn,Nn,zr,Ar,Pr,Ur,zn,An,Pn,Un,Lr,Fr,Hr,jr,Ir,Wr,qi,Yr,qr,Or,ut,ft,Xe,Oi,Bi,Gi,Vi,Xt,Zi,Qt,Xi,Kt,Qi,Jt,Ki,Ji,$i,eo,to,no,ir,Pi,Ui,Rt,Nt,zt,At,Pt,Ut,Lt,Ft,Ht,ar,lr,ur,fr,sr,cr,hr,gr,dr,pn,mr,yr,jt,It,Wt,Yt,pr,_r,br,wr,Li,Fi,Hi,ji,vr,kr,Sr,_n,Mr,Ii,Wi,re,i,r,u,h,Ta,df,wf,vf]}class oa extends Se{constructor(t){super(),Me(this,t,qh,Yh,ke,{ssr:3,pointerEvents:4,position:5,percentRange:120,width:121,height:122,containerWidth:0,containerHeight:1,element:2,x:123,y:124,z:125,r:126,data:127,xDomain:128,yDomain:129,zDomain:130,rDomain:131,xNice:132,yNice:133,zNice:134,rNice:135,xPadding:136,yPadding:137,zPadding:138,rPadding:139,xScale:140,yScale:141,zScale:142,rScale:143,xRange:144,yRange:145,zRange:146,rRange:147,xReverse:148,yReverse:149,zReverse:150,rReverse:151,xDomainSort:152,yDomainSort:153,zDomainSort:154,rDomainSort:155,padding:156,extents:157,deriveScales:158,flatData:159,custom:160,debug:161,verbose:162},null,[-1,-1,-1,-1,-1,-1,-1])}}const Oh=e=>({element:e&1}),Rl=e=>({element:e[0]}),Bh=e=>({}),Nl=e=>({}),Gh=e=>({}),zl=e=>({});function Al(e){let t,n;return{c(){t=se("title"),n=Je(e[8])},l(r){t=ce(r,"title",{});var i=X(t);n=$e(i,e[8]),i.forEach(M)},m(r,i){j(r,t,i),H(t,n)},p(r,i){i&256&&St(n,r[8])},d(r){r&&M(t)}}}function Vh(e){let t,n=e[8]&&Al(e);return{c(){n&&n.c(),t=Oe()},l(r){n&&n.l(r),t=Oe()},m(r,i){n&&n.m(r,i),j(r,t,i)},p(r,i){r[8]?n?n.p(r,i):(n=Al(r),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(r){r&&M(t),n&&n.d(r)}}}function Zh(e){let t,n,r,i,o;const l=e[16].title,a=ii(l,e,e[15],zl),c=a||Vh(e),s=e[16].defs,u=ii(s,e,e[15],Nl),f=e[16].default,g=ii(f,e,e[15],Rl);return{c(){t=se("svg"),c&&c.c(),n=se("defs"),u&&u.c(),r=se("g"),g&&g.c(),this.h()},l(h){t=ce(h,"svg",{class:!0,viewBox:!0,width:!0,height:!0,"aria-label":!0,"aria-labelledby":!0,"aria-describedby":!0});var d=X(t);c&&c.l(d),n=ce(d,"defs",{});var p=X(n);u&&u.l(p),p.forEach(M),r=ce(d,"g",{class:!0,transform:!0});var v=X(r);g&&g.l(v),v.forEach(M),d.forEach(M),this.h()},h(){y(r,"class","layercake-layout-svg_g"),y(r,"transform",i="translate("+e[11].left+", "+e[11].top+")"),y(t,"class","layercake-layout-svg svelte-17l4rdd"),y(t,"viewBox",e[4]),y(t,"width",e[9]),y(t,"height",e[10]),y(t,"aria-label",e[5]),y(t,"aria-labelledby",e[6]),y(t,"aria-describedby",e[7]),ye(t,"z-index",e[2]),ye(t,"pointer-events",e[3]===!1?"none":null)},m(h,d){j(h,t,d),c&&c.m(t,null),H(t,n),u&&u.m(n,null),H(t,r),g&&g.m(r,null),e[17](r),e[18](t),o=!0},p(h,[d]){a?a.p&&(!o||d&32768)&&oi(a,l,h,h[15],o?li(l,h[15],d,Gh):ai(h[15]),zl):c&&c.p&&(!o||d&256)&&c.p(h,o?d:-1),u&&u.p&&(!o||d&32768)&&oi(u,s,h,h[15],o?li(s,h[15],d,Bh):ai(h[15]),Nl),g&&g.p&&(!o||d&32769)&&oi(g,f,h,h[15],o?li(f,h[15],d,Oh):ai(h[15]),Rl),(!o||d&2048&&i!==(i="translate("+h[11].left+", "+h[11].top+")"))&&y(r,"transform",i),(!o||d&16)&&y(t,"viewBox",h[4]),(!o||d&512)&&y(t,"width",h[9]),(!o||d&1024)&&y(t,"height",h[10]),(!o||d&32)&&y(t,"aria-label",h[5]),(!o||d&64)&&y(t,"aria-labelledby",h[6]),(!o||d&128)&&y(t,"aria-describedby",h[7]),d&4&&ye(t,"z-index",h[2]),d&8&&ye(t,"pointer-events",h[3]===!1?"none":null)},i(h){o||(B(c,h),B(u,h),B(g,h),o=!0)},o(h){Z(c,h),Z(u,h),Z(g,h),o=!1},d(h){h&&M(t),c&&c.d(h),u&&u.d(h),g&&g.d(h),e[17](null),e[18](null)}}}function Xh(e,t,n){let r,i,o,{$$slots:l={},$$scope:a}=t,{element:c=void 0}=t,{innerElement:s=void 0}=t,{zIndex:u=void 0}=t,{pointerEvents:f=void 0}=t,{viewBox:g=void 0}=t,{label:h=void 0}=t,{labelledBy:d=void 0}=t,{describedBy:p=void 0}=t,{title:v=void 0}=t;const{containerWidth:D,containerHeight:S,padding:w}=tr("LayerCake");U(e,D,b=>n(9,r=b)),U(e,S,b=>n(10,i=b)),U(e,w,b=>n(11,o=b));function k(b){ko[b?"unshift":"push"](()=>{s=b,n(1,s)})}function x(b){ko[b?"unshift":"push"](()=>{c=b,n(0,c)})}return e.$$set=b=>{"element"in b&&n(0,c=b.element),"innerElement"in b&&n(1,s=b.innerElement),"zIndex"in b&&n(2,u=b.zIndex),"pointerEvents"in b&&n(3,f=b.pointerEvents),"viewBox"in b&&n(4,g=b.viewBox),"label"in b&&n(5,h=b.label),"labelledBy"in b&&n(6,d=b.labelledBy),"describedBy"in b&&n(7,p=b.describedBy),"title"in b&&n(8,v=b.title),"$$scope"in b&&n(15,a=b.$$scope)},[c,s,u,f,g,h,d,p,v,r,i,o,D,S,w,a,l,k,x]}class aa extends Se{constructor(t){super(),Me(this,t,Xh,Zh,ke,{element:0,innerElement:1,zIndex:2,pointerEvents:3,viewBox:4,label:5,labelledBy:6,describedBy:7,title:8})}}function Qh(e){let t,n,r;return{c(){t=Je(`// line path
`),n=se("path"),r=Je(`

// circle path`),this.h()},l(i){t=$e(i,`// line path
`),n=ce(i,"path",{d:!0,stroke:!0,class:!0}),X(n).forEach(M),r=$e(i,`

// circle path`),this.h()},h(){y(n,"d",e[2]),y(n,"stroke",e[0]),y(n,"class","svelte-87y3wp"),He(n,"animate",e[1])},m(i,o){j(i,t,o),j(i,n,o),j(i,r,o)},p(i,[o]){o&4&&y(n,"d",i[2]),o&1&&y(n,"stroke",i[0]),o&2&&He(n,"animate",i[1])},i:_e,o:_e,d(i){i&&(M(t),M(n),M(r))}}}function Kh(e,t,n){let r,i,o,l,a;const{data:c,xGet:s,yGet:u}=tr("LayerCake");U(e,c,d=>n(8,o=d)),U(e,s,d=>n(10,a=d)),U(e,u,d=>n(9,l=d));let{stroke:f="#ccc"}=t,{curve:g=ff}=t,{inViewTrigger:h=!1}=t;return e.$$set=d=>{"stroke"in d&&n(0,f=d.stroke),"curve"in d&&n(6,g=d.curve),"inViewTrigger"in d&&n(1,h=d.inViewTrigger)},e.$$.update=()=>{e.$$.dirty&1600&&n(7,r=ph().x(a).y(l).curve(g)),e.$$.dirty&384&&n(2,i=r(o)),e.$$.dirty&1792&&o.length>0&&(a(o[o.length-1]),l(o[o.length-1]))},[f,h,i,c,s,u,g,r,o,l,a]}class hf extends Se{constructor(t){super(),Me(this,t,Kh,Qh,ke,{stroke:0,curve:6,inViewTrigger:1})}}function Pl(e,t,n){const r=e.slice();return r[17]=t[n],r[19]=n,r}function Ul(e){let t,n;return{c(){t=se("line"),this.h()},l(r){t=ce(r,"line",{class:!0,y1:!0,y2:!0,x1:!0,x2:!0}),X(t).forEach(M),this.h()},h(){y(t,"class","gridline svelte-3t5gzx"),y(t,"y1",n=e[9]*-1),y(t,"y2","0"),y(t,"x1","0"),y(t,"x2","0")},m(r,i){j(r,t,i)},p(r,i){i&512&&n!==(n=r[9]*-1)&&y(t,"y1",n)},d(r){r&&M(t)}}}function Ll(e){let t;return{c(){t=se("line"),this.h()},l(n){t=ce(n,"line",{class:!0,y1:!0,y2:!0,x1:!0,x2:!0}),X(t).forEach(M),this.h()},h(){y(t,"class","tick-mark svelte-3t5gzx"),y(t,"y1",0),y(t,"y2",6),y(t,"x1",0),y(t,"x2",0)},m(n,r){j(n,t,r)},d(n){n&&M(t)}}}function Fl(e){let t,n,r,i=e[5](e[17])+"",o,l,a=e[0]!==!1&&Ul(e),c=e[1]===!0&&Ll();return{c(){t=se("g"),a&&a.c(),n=Oe(),c&&c.c(),r=se("text"),o=Je(i),this.h()},l(s){t=ce(s,"g",{class:!0,transform:!0});var u=X(t);a&&a.l(u),n=Oe(),c&&c.l(u),r=ce(u,"text",{x:!0,y:!0,dx:!0,dy:!0,"text-anchor":!0,class:!0});var f=X(r);o=$e(f,i),f.forEach(M),u.forEach(M),this.h()},h(){y(r,"x",0),y(r,"y",e[4]),y(r,"dx",""),y(r,"dy",""),y(r,"text-anchor",e[15](e[19])),y(r,"class","svelte-3t5gzx"),y(t,"class","tick tick-"+e[19]+" svelte-3t5gzx"),y(t,"transform",l="translate("+e[6](e[17])+","+e[8][0]+")")},m(s,u){j(s,t,u),a&&a.m(t,null),H(t,n),c&&c.m(t,null),H(t,r),H(r,o)},p(s,u){s[0]!==!1?a?a.p(s,u):(a=Ul(s),a.c(),a.m(t,n)):a&&(a.d(1),a=null),s[1]===!0?c||(c=Ll(),c.c(),c.m(t,r)):c&&(c.d(1),c=null),u&160&&i!==(i=s[5](s[17])+"")&&St(o,i),u&16&&y(r,"y",s[4]),u&448&&l!==(l="translate("+s[6](s[17])+","+s[8][0]+")")&&y(t,"transform",l)},d(s){s&&M(t),a&&a.d(),c&&c.d()}}}function Hl(e){let t,n,r;return{c(){t=se("line"),this.h()},l(i){t=ce(i,"line",{class:!0,y1:!0,y2:!0,x1:!0,x2:!0}),X(t).forEach(M),this.h()},h(){y(t,"class","baseline svelte-3t5gzx"),y(t,"y1",n=e[9]+.5),y(t,"y2",r=e[9]+.5),y(t,"x1","0"),y(t,"x2",e[10])},m(i,o){j(i,t,o)},p(i,o){o&512&&n!==(n=i[9]+.5)&&y(t,"y1",n),o&512&&r!==(r=i[9]+.5)&&y(t,"y2",r),o&1024&&y(t,"x2",i[10])},d(i){i&&M(t)}}}function Jh(e){let t,n,r=De(e[7]),i=[];for(let l=0;l<r.length;l+=1)i[l]=Fl(Pl(e,r,l));let o=e[2]===!0&&Hl(e);return{c(){t=se("g");for(let l=0;l<i.length;l+=1)i[l].c();n=Oe(),o&&o.c(),this.h()},l(l){t=ce(l,"g",{class:!0});var a=X(t);for(let c=0;c<i.length;c+=1)i[c].l(a);n=Oe(),o&&o.l(a),a.forEach(M),this.h()},h(){y(t,"class","axis x-axis svelte-3t5gzx"),He(t,"snapTicks",e[3])},m(l,a){j(l,t,a);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(t,null);H(t,n),o&&o.m(t,null)},p(l,[a]){if(a&33779){r=De(l[7]);let c;for(c=0;c<r.length;c+=1){const s=Pl(l,r,c);i[c]?i[c].p(s,a):(i[c]=Fl(s),i[c].c(),i[c].m(t,n))}for(;c<i.length;c+=1)i[c].d(1);i.length=r.length}l[2]===!0?o?o.p(l,a):(o=Hl(l),o.c(),o.m(t,null)):o&&(o.d(1),o=null),a&8&&He(t,"snapTicks",l[3])},i:_e,o:_e,d(l){l&&M(t),ht(i,l),o&&o.d()}}}function $h(e,t,n){let r,i,o,l,a;const{width:c,height:s,xScale:u,yRange:f}=tr("LayerCake");U(e,c,k=>n(10,a=k)),U(e,s,k=>n(9,l=k)),U(e,u,k=>n(6,i=k)),U(e,f,k=>n(8,o=k));let{gridlines:g=!0}=t,{tickMarks:h=!1}=t,{baseline:d=!1}=t,{snapTicks:p=!1}=t,{yTick:v=16}=t,{formatTick:D=k=>k}=t,{ticks:S=void 0}=t;const w=k=>{if(p===!0){if(k===0)return"start";if(k===r.length-1)return"end"}return"middle"};return e.$$set=k=>{"gridlines"in k&&n(0,g=k.gridlines),"tickMarks"in k&&n(1,h=k.tickMarks),"baseline"in k&&n(2,d=k.baseline),"snapTicks"in k&&n(3,p=k.snapTicks),"yTick"in k&&n(4,v=k.yTick),"formatTick"in k&&n(5,D=k.formatTick),"ticks"in k&&n(16,S=k.ticks)},e.$$.update=()=>{e.$$.dirty&65600&&n(7,r=Array.isArray(S)?S:typeof S=="function"?S(i.ticks()):i.ticks(S))},[g,h,d,p,v,D,i,r,o,l,a,c,s,u,f,w,S]}class la extends Se{constructor(t){super(),Me(this,t,$h,Jh,ke,{gridlines:0,tickMarks:1,baseline:2,snapTicks:3,yTick:4,formatTick:5,ticks:16})}}function jl(e,t,n){const r=e.slice();return r[16]=t[n],r}function Il(e){let t;return{c(){t=se("line"),this.h()},l(n){t=ce(n,"line",{class:!0,x2:!0,y1:!0,y2:!0}),X(t).forEach(M),this.h()},h(){y(t,"class","gridline svelte-1yns1hw"),y(t,"x2","100%"),y(t,"y1",e[3]),y(t,"y2",e[3])},m(n,r){j(n,t,r)},p(n,r){r&8&&y(t,"y1",n[3]),r&8&&y(t,"y2",n[3])},d(n){n&&M(t)}}}function Wl(e){let t;return{c(){t=se("line"),this.h()},l(n){t=ce(n,"line",{class:!0,x1:!0,x2:!0,y1:!0,y2:!0}),X(t).forEach(M),this.h()},h(){y(t,"class","tick-mark svelte-1yns1hw"),y(t,"x1","0"),y(t,"x2",6),y(t,"y1",e[3]),y(t,"y2",e[3])},m(n,r){j(n,t,r)},p(n,r){r&8&&y(t,"y1",n[3]),r&8&&y(t,"y2",n[3])},d(n){n&&M(t)}}}function Yl(e){let t,n,r,i=e[7](e[16])+"",o,l,a,c=e[0]!==!1&&Il(e),s=e[1]===!0&&Wl(e);return{c(){t=se("g"),c&&c.c(),n=Oe(),s&&s.c(),r=se("text"),o=Je(i),this.h()},l(u){t=ce(u,"g",{class:!0,transform:!0});var f=X(t);c&&c.l(f),n=Oe(),s&&s.l(f),r=ce(f,"text",{x:!0,y:!0,dx:!0,dy:!0,style:!0,class:!0});var g=X(r);o=$e(g,i),g.forEach(M),f.forEach(M),this.h()},h(){y(r,"x",e[2]),y(r,"y",e[3]),y(r,"dx",e[4]),y(r,"dy",e[5]),ye(r,"text-anchor",e[6]),y(r,"class","svelte-1yns1hw"),y(t,"class",l="tick tick-"+e[16]+" svelte-1yns1hw"),y(t,"transform",a="translate("+e[11][0]+", "+e[8](e[16])+")")},m(u,f){j(u,t,f),c&&c.m(t,null),H(t,n),s&&s.m(t,null),H(t,r),H(r,o)},p(u,f){u[0]!==!1?c?c.p(u,f):(c=Il(u),c.c(),c.m(t,n)):c&&(c.d(1),c=null),u[1]===!0?s?s.p(u,f):(s=Wl(u),s.c(),s.m(t,r)):s&&(s.d(1),s=null),f&640&&i!==(i=u[7](u[16])+"")&&St(o,i),f&4&&y(r,"x",u[2]),f&8&&y(r,"y",u[3]),f&16&&y(r,"dx",u[4]),f&32&&y(r,"dy",u[5]),f&64&&ye(r,"text-anchor",u[6]),f&512&&l!==(l="tick tick-"+u[16]+" svelte-1yns1hw")&&y(t,"class",l),f&2816&&a!==(a="translate("+u[11][0]+", "+u[8](u[16])+")")&&y(t,"transform",a)},d(u){u&&M(t),c&&c.d(),s&&s.d()}}}function e1(e){let t,n,r=De(e[9]),i=[];for(let o=0;o<r.length;o+=1)i[o]=Yl(jl(e,r,o));return{c(){t=se("g");for(let o=0;o<i.length;o+=1)i[o].c();this.h()},l(o){t=ce(o,"g",{class:!0,transform:!0});var l=X(t);for(let a=0;a<i.length;a+=1)i[a].l(l);l.forEach(M),this.h()},h(){y(t,"class","axis y-axis"),y(t,"transform",n="translate("+-e[10].left+", 0)")},m(o,l){j(o,t,l);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(t,null)},p(o,[l]){if(l&3071){r=De(o[9]);let a;for(a=0;a<r.length;a+=1){const c=jl(o,r,a);i[a]?i[a].p(c,l):(i[a]=Yl(c),i[a].c(),i[a].m(t,null))}for(;a<i.length;a+=1)i[a].d(1);i.length=r.length}l&1024&&n!==(n="translate("+-o[10].left+", 0)")&&y(t,"transform",n)},i:_e,o:_e,d(o){o&&M(t),ht(i,o)}}}function t1(e,t,n){let r,i,o,l;const{padding:a,xRange:c,yScale:s}=tr("LayerCake");U(e,a,w=>n(10,o=w)),U(e,c,w=>n(11,l=w)),U(e,s,w=>n(8,i=w));let{gridlines:u=!0}=t,{tickMarks:f=!1}=t,{xTick:g=0}=t,{yTick:h=0}=t,{dxTick:d=0}=t,{dyTick:p=-4}=t,{textAnchor:v="start"}=t,{formatTick:D=w=>w}=t,{ticks:S=4}=t;return e.$$set=w=>{"gridlines"in w&&n(0,u=w.gridlines),"tickMarks"in w&&n(1,f=w.tickMarks),"xTick"in w&&n(2,g=w.xTick),"yTick"in w&&n(3,h=w.yTick),"dxTick"in w&&n(4,d=w.dxTick),"dyTick"in w&&n(5,p=w.dyTick),"textAnchor"in w&&n(6,v=w.textAnchor),"formatTick"in w&&n(7,D=w.formatTick),"ticks"in w&&n(15,S=w.ticks)},e.$$.update=()=>{e.$$.dirty&33024&&n(9,r=Array.isArray(S)?S:typeof S=="function"?S(i.ticks()):i.ticks(S))},[u,f,g,h,d,p,v,D,i,r,o,l,a,c,s,S]}class ua extends Se{constructor(t){super(),Me(this,t,t1,e1,ke,{gridlines:0,tickMarks:1,xTick:2,yTick:3,dxTick:4,dyTick:5,textAnchor:6,formatTick:7,ticks:15})}}function ql(e){let t,n;return{c(){t=q("h2"),n=Je(e[0]),this.h()},l(r){t=O(r,"H2",{class:!0});var i=X(t);n=$e(i,e[0]),i.forEach(M),this.h()},h(){y(t,"class","chart-title svelte-a3udui")},m(r,i){j(r,t,i),H(t,n)},p(r,i){i&1&&St(n,r[0])},d(r){r&&M(t)}}}function Ol(e){let t,n;return{c(){t=q("p"),n=Je(e[1]),this.h()},l(r){t=O(r,"P",{class:!0});var i=X(t);n=$e(i,e[1]),i.forEach(M),this.h()},h(){y(t,"class","chart-source svelte-a3udui")},m(r,i){j(r,t,i),H(t,n)},p(r,i){i&2&&St(n,r[1])},d(r){r&&M(t)}}}function n1(e){let t,n,r=e[0]&&ql(e),i=e[1]&&Ol(e);return{c(){t=q("div"),r&&r.c(),n=ee(),i&&i.c(),this.h()},l(o){t=O(o,"DIV",{class:!0});var l=X(t);r&&r.l(l),n=te(l),i&&i.l(l),l.forEach(M),this.h()},h(){y(t,"class","chart-details svelte-a3udui")},m(o,l){j(o,t,l),r&&r.m(t,null),H(t,n),i&&i.m(t,null)},p(o,[l]){o[0]?r?r.p(o,l):(r=ql(o),r.c(),r.m(t,n)):r&&(r.d(1),r=null),o[1]?i?i.p(o,l):(i=Ol(o),i.c(),i.m(t,null)):i&&(i.d(1),i=null)},i:_e,o:_e,d(o){o&&M(t),r&&r.d(),i&&i.d()}}}function r1(e,t,n){let{title:r=""}=t,{source:i=""}=t;return e.$$set=o=>{"title"in o&&n(0,r=o.title),"source"in o&&n(1,i=o.source)},[r,i]}class hn extends Se{constructor(t){super(),Me(this,t,r1,n1,ke,{title:0,source:1})}}function fa(e,t={}){let n;const r=o=>{const l=o[0].isIntersecting,a=l?"enter":"exit";if(e.dispatchEvent(new CustomEvent(a)),t.progress&&l){const s={ratio:o[0].intersectionRatio};e.dispatchEvent(new CustomEvent("progress",{detail:s}))}},i=({root:o,top:l,bottom:a})=>{const c=l?l*-1:0,s=a?a*-1:0,u=`${c}px 0px ${s}px 0px`,f={root:o,rootMargin:u};n&&n.disconnect(),n=new IntersectionObserver(r,f),n.observe(e)};return i(t),{update(o){i(o)},destroy(){n&&n.disconnect()}}}function i1(e){let t,n,r,i,o,l;return t=new la({props:{gridlines:!1,ticks:e[2]}}),r=new ua({props:{snapBaselineLabel:!0,gridlines:!0}}),o=new hf({props:{inViewTrigger:e[1],stroke:"black"}}),{c(){ie(t.$$.fragment),n=ee(),ie(r.$$.fragment),i=ee(),ie(o.$$.fragment)},l(a){oe(t.$$.fragment,a),n=te(a),oe(r.$$.fragment,a),i=te(a),oe(o.$$.fragment,a)},m(a,c){ae(t,a,c),j(a,n,c),ae(r,a,c),j(a,i,c),ae(o,a,c),l=!0},p(a,c){const s={};c&4&&(s.ticks=a[2]),t.$set(s);const u={};c&2&&(u.inViewTrigger=a[1]),o.$set(u)},i(a){l||(B(t.$$.fragment,a),B(r.$$.fragment,a),B(o.$$.fragment,a),l=!0)},o(a){Z(t.$$.fragment,a),Z(r.$$.fragment,a),Z(o.$$.fragment,a),l=!1},d(a){a&&(M(n),M(i)),le(t,a),le(r,a),le(o,a)}}}function o1(e){let t,n;return t=new aa({props:{$$slots:{default:[i1]},$$scope:{ctx:e}}}),{c(){ie(t.$$.fragment)},l(r){oe(t.$$.fragment,r)},m(r,i){ae(t,r,i),n=!0},p(r,i){const o={};i&134&&(o.$$scope={dirty:i,ctx:r}),t.$set(o)},i(r){n||(B(t.$$.fragment,r),n=!0)},o(r){Z(t.$$.fragment,r),n=!1},d(r){le(t,r)}}}function a1(e){let t,n,r,i,o,l,a,c,s;return dn(e[6]),t=new hn({props:{title:"Unique Book Titles Challenged in the U.S."}}),i=new oa({props:{padding:{top:16,right:16,bottom:32,left:16},x:qo,y:Oo,yDomain:[0,null],data:e[0],$$slots:{default:[o1]},$$scope:{ctx:e}}}),l=new hn({props:{source:"Source: American Library Association's Office for Intellectual Freedom"}}),{c(){ie(t.$$.fragment),n=ee(),r=q("div"),ie(i.$$.fragment),o=ee(),ie(l.$$.fragment),this.h()},l(u){oe(t.$$.fragment,u),n=te(u),r=O(u,"DIV",{class:!0});var f=X(r);oe(i.$$.fragment,f),f.forEach(M),o=te(u),oe(l.$$.fragment,u),this.h()},h(){y(r,"class","chart-container svelte-13uekc5")},m(u,f){ae(t,u,f),j(u,n,f),j(u,r,f),ae(i,r,null),j(u,o,f),ae(l,u,f),a=!0,c||(s=[pe(window,"resize",e[6]),Bo(fa.call(null,r)),pe(r,"enter",e[4]),pe(r,"exit",e[5])],c=!0)},p(u,[f]){const g={};f&1&&(g.data=u[0]),f&134&&(g.$$scope={dirty:f,ctx:u}),i.$set(g)},i(u){a||(B(t.$$.fragment,u),B(i.$$.fragment,u),B(l.$$.fragment,u),a=!0)},o(u){Z(t.$$.fragment,u),Z(i.$$.fragment,u),Z(l.$$.fragment,u),a=!1},d(u){u&&(M(n),M(r),M(o)),le(t,u),le(i),le(l,u),c=!1,gt(s)}}}const qo="year",Oo="bans";function l1(e,t,n){let r,i,o=[],l=!1;gn(async()=>{n(0,o=await rr("/assets/data/1_uniquetitles.csv")),o.forEach(f=>{f[qo]=+f[qo],f[Oo]=+f[Oo]}),console.log(o)});function a(){n(1,l=!0)}function c(){n(1,l=!1)}function s(){n(3,r=window.innerWidth)}return n(3,r=0),n(2,i=[2e3,2005,2010,2015,2020]),[o,l,i,r,a,c,s]}class u1 extends Se{constructor(t){super(),Me(this,t,l1,a1,ke,{})}}function f1(e){let t,n,r,i,o,l;return t=new la({props:{gridlines:!1,ticks:e[3],formatTick:e[6]}}),r=new ua({props:{snapBaselineLabel:!0,gridlines:!0}}),o=new hf({props:{inViewTrigger:e[1],stroke:"black","stroke-width":"2"}}),{c(){ie(t.$$.fragment),n=ee(),ie(r.$$.fragment),i=ee(),ie(o.$$.fragment)},l(a){oe(t.$$.fragment,a),n=te(a),oe(r.$$.fragment,a),i=te(a),oe(o.$$.fragment,a)},m(a,c){ae(t,a,c),j(a,n,c),ae(r,a,c),j(a,i,c),ae(o,a,c),l=!0},p(a,c){const s={};c&8&&(s.ticks=a[3]),t.$set(s);const u={};c&2&&(u.inViewTrigger=a[1]),o.$set(u)},i(a){l||(B(t.$$.fragment,a),B(r.$$.fragment,a),B(o.$$.fragment,a),l=!0)},o(a){Z(t.$$.fragment,a),Z(r.$$.fragment,a),Z(o.$$.fragment,a),l=!1},d(a){a&&(M(n),M(i)),le(t,a),le(r,a),le(o,a)}}}function s1(e){let t,n;return t=new aa({props:{$$slots:{default:[f1]},$$scope:{ctx:e}}}),{c(){ie(t.$$.fragment)},l(r){oe(t.$$.fragment,r)},m(r,i){ae(t,r,i),n=!0},p(r,i){const o={};i&1034&&(o.$$scope={dirty:i,ctx:r}),t.$set(o)},i(r){n||(B(t.$$.fragment,r),n=!0)},o(r){Z(t.$$.fragment,r),n=!1},d(r){le(t,r)}}}function c1(e){let t,n,r,i,o,l,a,c,s;return dn(e[7]),t=new hn({props:{title:"Moms for Liberty Facebook Groups"}}),i=new oa({props:{padding:{top:16,right:16,bottom:32,left:16},x:ci,y:hi,xDomain:ct(e[0],e[8]),yDomain:[0,di(e[0],e[9])],data:e[0],$$slots:{default:[s1]},$$scope:{ctx:e}}}),l=new hn({props:{source:"Source: Facebook"}}),{c(){ie(t.$$.fragment),n=ee(),r=q("div"),ie(i.$$.fragment),o=ee(),ie(l.$$.fragment),this.h()},l(u){oe(t.$$.fragment,u),n=te(u),r=O(u,"DIV",{class:!0});var f=X(r);oe(i.$$.fragment,f),f.forEach(M),o=te(u),oe(l.$$.fragment,u),this.h()},h(){y(r,"class","chart-container svelte-13uekc5")},m(u,f){ae(t,u,f),j(u,n,f),j(u,r,f),ae(i,r,null),j(u,o,f),ae(l,u,f),a=!0,c||(s=[pe(window,"resize",e[7]),Bo(fa.call(null,r)),pe(r,"enter",e[4]),pe(r,"exit",e[5])],c=!0)},p(u,[f]){const g={};f&1&&(g.xDomain=ct(u[0],u[8])),f&1&&(g.yDomain=[0,di(u[0],u[9])]),f&1&&(g.data=u[0]),f&1034&&(g.$$scope={dirty:f,ctx:u}),i.$set(g)},i(u){a||(B(t.$$.fragment,u),B(i.$$.fragment,u),B(l.$$.fragment,u),a=!0)},o(u){Z(t.$$.fragment,u),Z(i.$$.fragment,u),Z(l.$$.fragment,u),a=!1},d(u){u&&(M(n),M(r),M(o)),le(t,u),le(i),le(l,u),c=!1,gt(s)}}}const ci="creation_date",hi="cumulative_count";function h1(e,t,n){let r,i=[],o=!1,l=0;gn(async()=>{n(0,i=await rr("/assets/data/2_risegroups.csv"));const d=of("%Y-%m-%d");i.forEach(p=>{p[ci]=d(p[ci]),p[hi]=+p[hi]})});function a(){n(1,o=!0)}function c(){n(1,o=!1)}const s=rf("%b %Y");function u(){n(2,l=window.innerWidth)}const f=h=>h[ci],g=h=>h[hi];return n(3,r=i0(new Date(2021,0,1),new Date(2024,9,31),7)),[i,o,l,r,a,c,s,u,f,g]}class g1 extends Se{constructor(t){super(),Me(this,t,h1,c1,ke,{})}}function d1(e){return e<.5?4*e*e*e:.5*Math.pow(2*e-2,3)+1}function m1(e){const t=e-1;return t*t*t+1}function Bl(e,{delay:t=0,duration:n=400,easing:r=m1,x:i=0,y:o=0,opacity:l=0}={}){const a=getComputedStyle(e),c=+a.opacity,s=a.transform==="none"?"":a.transform,u=c*(1-l),[f,g]=Ca(i),[h,d]=Ca(o);return{delay:t,duration:n,easing:r,css:(p,v)=>`
			transform: ${s} translate(${(1-p)*f}${g}, ${(1-p)*h}${d});
			opacity: ${c-u*v}`}}function y1(e,{delay:t=0,speed:n,duration:r,easing:i=d1}={}){let o=e.getTotalLength();const l=getComputedStyle(e);return l.strokeLinecap!=="butt"&&(o+=parseInt(l.strokeWidth)),r===void 0?n===void 0?r=800:r=o/n:typeof r=="function"&&(r=r(o)),{delay:t,duration:r,easing:i,css:(a,c)=>`
			stroke-dasharray: ${o};
			stroke-dashoffset: ${c*o};
		`}}function Gl(e,t,n){const r=e.slice();r[15]=t[n],r[21]=n;const i=r[8].bandwidth?r[4](r[15]):r[4](r[15])[0];r[16]=i;const o=r[3](r[15]);r[17]=o;const l=r[8].bandwidth?r[8].bandwidth():r[6](r[15]);r[18]=l;const a=r[5](r[15]);return r[19]=a,r}function Vl(e){let t,n,r,i,o,l,a,c,s;return{c(){t=Je(`// X position
		 // Y position
		 // Column width
		 // Column height
		`),n=se("rect"),this.h()},l(u){t=$e(u,`// X position
		 // Y position
		 // Column width
		 // Column height
		`),n=ce(u,"rect",{"data-id":!0,x:!0,y:!0,width:!0,height:!0,fill:!0,stroke:!0,"stroke-width":!0,style:!0}),X(n).forEach(M),this.h()},h(){y(n,"data-id",e[21]),y(n,"x",r=e[16]),y(n,"y",i=e[17]),y(n,"width",o=e[18]),y(n,"height",l=e[19]),y(n,"fill",a=typeof e[0]=="function"?e[0](e[15]):e[0]),y(n,"stroke",e[1]),y(n,"stroke-width",e[2]),ye(n,"transform-origin","bottom")},m(u,f){j(u,t,f),j(u,n,f),s=!0},p(u,f){e=u,(!s||f&400&&r!==(r=e[16]))&&y(n,"x",r),(!s||f&136&&i!==(i=e[17]))&&y(n,"y",i),(!s||f&448&&o!==(o=e[18]))&&y(n,"width",o),(!s||f&160&&l!==(l=e[19]))&&y(n,"height",l),(!s||f&129&&a!==(a=typeof e[0]=="function"?e[0](e[15]):e[0]))&&y(n,"fill",a),(!s||f&2)&&y(n,"stroke",e[1]),(!s||f&4)&&y(n,"stroke-width",e[2])},i(u){s||(u&&dn(()=>{s&&(c||(c=Ra(n,Bl,{y:e[19],duration:800,delay:e[21]*100},!0)),c.run(1))}),s=!0)},o(u){u&&(c||(c=Ra(n,Bl,{y:e[19],duration:800,delay:e[21]*100},!1)),c.run(0)),s=!1},d(u){u&&(M(t),M(n)),u&&c&&c.end()}}}function p1(e){let t,n,r,i=De(e[7]),o=[];for(let a=0;a<i.length;a+=1)o[a]=Vl(Gl(e,i,a));const l=a=>Z(o[a],1,1,()=>{o[a]=null});return{c(){t=se("g");for(let a=0;a<o.length;a+=1)o[a].c();n=Je(`

// Check if the fill prop is part of a function, otherwise use the default fill value`)},l(a){t=ce(a,"g",{});var c=X(t);for(let s=0;s<o.length;s+=1)o[s].l(c);c.forEach(M),n=$e(a,`

// Check if the fill prop is part of a function, otherwise use the default fill value`)},m(a,c){j(a,t,c);for(let s=0;s<o.length;s+=1)o[s]&&o[s].m(t,null);j(a,n,c),r=!0},p(a,[c]){if(c&511){i=De(a[7]);let s;for(s=0;s<i.length;s+=1){const u=Gl(a,i,s);o[s]?(o[s].p(u,c),B(o[s],1)):(o[s]=Vl(u),o[s].c(),B(o[s],1),o[s].m(t,null))}for(Go(),s=i.length;s<o.length;s+=1)l(s);Vo()}},i(a){if(!r){for(let c=0;c<i.length;c+=1)B(o[c]);r=!0}},o(a){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)Z(o[c]);r=!1},d(a){a&&(M(t),M(n)),ht(o,a)}}}function _1(e,t,n){let r,i,o,l,a,c,s;const{data:u,xGet:f,yGet:g,yRange:h,xScale:d}=tr("LayerCake");U(e,u,S=>n(7,c=S)),U(e,f,S=>n(4,a=S)),U(e,g,S=>n(3,o=S)),U(e,h,S=>n(14,l=S)),U(e,d,S=>n(8,s=S));let{fill:p="#ccc"}=t,{stroke:v="#000"}=t,{strokeWidth:D=0}=t;return e.$$set=S=>{"fill"in S&&n(0,p=S.fill),"stroke"in S&&n(1,v=S.stroke),"strokeWidth"in S&&n(2,D=S.strokeWidth)},e.$$.update=()=>{e.$$.dirty&16&&n(6,r=S=>{const w=a(S);return Math.max(0,w[1]-w[0])}),e.$$.dirty&16392&&n(5,i=S=>Math.max(0,l[0]-o(S)))},[p,v,D,o,a,i,r,c,s,u,f,g,h,d,l]}class b1 extends Se{constructor(t){super(),Me(this,t,_1,p1,ke,{fill:0,stroke:1,strokeWidth:2})}}function Zl(e){let t,n;return t=new oa({props:{padding:{top:16,right:16,bottom:32,left:16},x:M1,y:T1,xDomain:ct(e[0],Ql),yDomain:[0,di(e[0],Kl)],data:e[0],$$slots:{default:[v1]},$$scope:{ctx:e}}}),{c(){ie(t.$$.fragment)},l(r){oe(t.$$.fragment,r)},m(r,i){ae(t,r,i),n=!0},p(r,i){const o={};i&1&&(o.xDomain=ct(r[0],Ql)),i&1&&(o.yDomain=[0,di(r[0],Kl)]),i&1&&(o.data=r[0]),i&130&&(o.$$scope={dirty:i,ctx:r}),t.$set(o)},i(r){n||(B(t.$$.fragment,r),n=!0)},o(r){Z(t.$$.fragment,r),n=!1},d(r){le(t,r)}}}function w1(e){let t,n,r,i,o,l,a,c='<p class="svelte-9qpwc5">Book bans increased</p> <p class="svelte-9qpwc5">the change</p>',s;return t=new la({props:{gridlines:!1}}),r=new ua({props:{snapBaselineLabel:!0,gridlines:!0}}),o=new b1({props:{inViewTrigger:e[1],stroke:"black",strokeWidth:"1",fill:S1}}),{c(){ie(t.$$.fragment),n=ee(),ie(r.$$.fragment),i=ee(),ie(o.$$.fragment),l=ee(),a=q("div"),a.innerHTML=c,this.h()},l(u){oe(t.$$.fragment,u),n=te(u),oe(r.$$.fragment,u),i=te(u),oe(o.$$.fragment,u),l=te(u),a=O(u,"DIV",{class:!0,style:!0,"data-svelte-h":!0}),Fe(a)!=="svelte-1wudcq0"&&(a.innerHTML=c),this.h()},h(){y(a,"class","annotation svelte-9qpwc5"),ye(a,"left","0"),ye(a,"top","0")},m(u,f){ae(t,u,f),j(u,n,f),ae(r,u,f),j(u,i,f),ae(o,u,f),j(u,l,f),j(u,a,f),s=!0},p(u,f){const g={};f&2&&(g.inViewTrigger=u[1]),o.$set(g)},i(u){s||(B(t.$$.fragment,u),B(r.$$.fragment,u),B(o.$$.fragment,u),s=!0)},o(u){Z(t.$$.fragment,u),Z(r.$$.fragment,u),Z(o.$$.fragment,u),s=!1},d(u){u&&(M(n),M(i),M(l),M(a)),le(t,u),le(r,u),le(o,u)}}}function v1(e){let t,n;return t=new aa({props:{$$slots:{default:[w1]},$$scope:{ctx:e}}}),{c(){ie(t.$$.fragment)},l(r){oe(t.$$.fragment,r)},m(r,i){ae(t,r,i),n=!0},p(r,i){const o={};i&130&&(o.$$scope={dirty:i,ctx:r}),t.$set(o)},i(r){n||(B(t.$$.fragment,r),n=!0)},o(r){Z(t.$$.fragment,r),n=!1},d(r){le(t,r)}}}function k1(e){let t,n,r,i,o,l,a,c;dn(e[6]),t=new hn({props:{title:"Days Between M4L Chapter Creation and First Book Ban"}});let s=e[0].length>0&&Zl(e);return o=new hn({props:{source:"Source: Facebook, PEN America"}}),{c(){ie(t.$$.fragment),n=ee(),r=q("div"),s&&s.c(),i=ee(),ie(o.$$.fragment),this.h()},l(u){oe(t.$$.fragment,u),n=te(u),r=O(u,"DIV",{class:!0});var f=X(r);s&&s.l(f),f.forEach(M),i=te(u),oe(o.$$.fragment,u),this.h()},h(){y(r,"class","chart-container svelte-9qpwc5")},m(u,f){ae(t,u,f),j(u,n,f),j(u,r,f),s&&s.m(r,null),j(u,i,f),ae(o,u,f),l=!0,a||(c=[pe(window,"resize",e[6]),Bo(fa.call(null,r)),pe(r,"enter",e[4]),pe(r,"exit",e[5])],a=!0)},p(u,[f]){u[0].length>0?s?(s.p(u,f),f&1&&B(s,1)):(s=Zl(u),s.c(),B(s,1),s.m(r,null)):s&&(Go(),Z(s,1,1,()=>{s=null}),Vo())},i(u){l||(B(t.$$.fragment,u),B(s),B(o.$$.fragment,u),l=!0)},o(u){Z(t.$$.fragment,u),Z(s),Z(o.$$.fragment,u),l=!1},d(u){u&&(M(n),M(r),M(i)),le(t,u),s&&s.d(),le(o,u),a=!1,gt(c)}}}const ri="time_diff",Xl="count",S1=e=>e.color,M1=e=>[e.x0,e.x1],T1=e=>e.count,Ql=e=>e.x0,Kl=e=>e.count;function x1(e,t,n){let r=[],i=!1,o=0,l=0;gn(async()=>{try{n(0,r=await rr("/assets/data/3_timedifferences.csv")),r.forEach(h=>{h[ri]=+h[ri],h[Xl]=+h[Xl]});const g=$f().value(h=>h[ri]).domain(ct(r,h=>h[ri])).thresholds(25)(r);n(0,r=g.map(h=>({x0:h.x0,x1:h.x1,count:h.length,color:h.x0<0?"#ccc":"steelblue"}))),console.log("Data:",r)}catch(u){console.error("Error loading data:",u)}});function a(){n(1,i=!0)}function c(){n(1,i=!1)}function s(){n(2,o=window.innerWidth),n(3,l=window.innerHeight)}return[r,i,o,l,a,c,s]}class D1 extends Se{constructor(t){super(),Me(this,t,x1,k1,ke,{})}}function E1(e){return e}function C1(e){if(e==null)return E1;var t,n,r=e.scale[0],i=e.scale[1],o=e.translate[0],l=e.translate[1];return function(a,c){c||(t=n=0);var s=2,u=a.length,f=new Array(u);for(f[0]=(t+=a[0])*r+o,f[1]=(n+=a[1])*i+l;s<u;)f[s]=a[s],++s;return f}}function R1(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}function Ni(e,t){return typeof t=="string"&&(t=e.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(n){return Jl(e,n)})}:Jl(e,t)}function Jl(e,t){var n=t.id,r=t.bbox,i=t.properties==null?{}:t.properties,o=gf(e,t);return n==null&&r==null?{type:"Feature",properties:i,geometry:o}:r==null?{type:"Feature",id:n,properties:i,geometry:o}:{type:"Feature",id:n,bbox:r,properties:i,geometry:o}}function gf(e,t){var n=C1(e.transform),r=e.arcs;function i(u,f){f.length&&f.pop();for(var g=r[u<0?~u:u],h=0,d=g.length;h<d;++h)f.push(n(g[h],h));u<0&&R1(f,d)}function o(u){return n(u)}function l(u){for(var f=[],g=0,h=u.length;g<h;++g)i(u[g],f);return f.length<2&&f.push(f[0]),f}function a(u){for(var f=l(u);f.length<4;)f.push(f[0]);return f}function c(u){return u.map(a)}function s(u){var f=u.type,g;switch(f){case"GeometryCollection":return{type:f,geometries:u.geometries.map(s)};case"Point":g=o(u.coordinates);break;case"MultiPoint":g=u.coordinates.map(o);break;case"LineString":g=l(u.arcs);break;case"MultiLineString":g=u.arcs.map(l);break;case"Polygon":g=c(u.arcs);break;case"MultiPolygon":g=u.arcs.map(c);break;default:return null}return{type:f,coordinates:g}}return s(t)}function N1(e,t){var n={},r={},i={},o=[],l=-1;t.forEach(function(s,u){var f=e.arcs[s<0?~s:s],g;f.length<3&&!f[1][0]&&!f[1][1]&&(g=t[++l],t[l]=s,t[u]=g)}),t.forEach(function(s){var u=a(s),f=u[0],g=u[1],h,d;if(h=i[f])if(delete i[h.end],h.push(s),h.end=g,d=r[g]){delete r[d.start];var p=d===h?h:h.concat(d);r[p.start=h.start]=i[p.end=d.end]=p}else r[h.start]=i[h.end]=h;else if(h=r[g])if(delete r[h.start],h.unshift(s),h.start=f,d=i[f]){delete i[d.end];var v=d===h?h:d.concat(h);r[v.start=d.start]=i[v.end=h.end]=v}else r[h.start]=i[h.end]=h;else h=[s],r[h.start=f]=i[h.end=g]=h});function a(s){var u=e.arcs[s<0?~s:s],f=u[0],g;return e.transform?(g=[0,0],u.forEach(function(h){g[0]+=h[0],g[1]+=h[1]})):g=u[u.length-1],s<0?[g,f]:[f,g]}function c(s,u){for(var f in s){var g=s[f];delete u[g.start],delete g.start,delete g.end,g.forEach(function(h){n[h<0?~h:h]=1}),o.push(g)}}return c(i,r),c(r,i),t.forEach(function(s){n[s<0?~s:s]||o.push([s])}),o}function z1(e){return gf(e,A1.apply(this,arguments))}function A1(e,t,n){var r,i,o;if(arguments.length>1)r=P1(e,t,n);else for(i=0,r=new Array(o=e.arcs.length);i<o;++i)r[i]=i;return{type:"MultiLineString",arcs:N1(e,r)}}function P1(e,t,n){var r=[],i=[],o;function l(f){var g=f<0?~f:f;(i[g]||(i[g]=[])).push({i:f,g:o})}function a(f){f.forEach(l)}function c(f){f.forEach(a)}function s(f){f.forEach(c)}function u(f){switch(o=f,f.type){case"GeometryCollection":f.geometries.forEach(u);break;case"LineString":a(f.arcs);break;case"MultiLineString":case"Polygon":c(f.arcs);break;case"MultiPolygon":s(f.arcs);break}}return u(t),i.forEach(n==null?function(f){r.push(f[0].i)}:function(f){n(f[0].g,f[f.length-1].g)&&r.push(f[0].i)}),r}function $l(e,t,n){const r=e.slice();return r[13]=t[n],r[15]=n,r}function eu(e,t,n){const r=e.slice();return r[13]=t[n],r[15]=n,r}function tu(e){let t,n,r,i,o;function l(){return e[5](e[13])}function a(...c){return e[6](e[13],...c)}return{c(){t=se("path"),this.h()},l(c){t=ce(c,"path",{d:!0,tabindex:!0,role:!0,"aria-label":!0,class:!0,stroke:!0,fill:!0}),X(t).forEach(M),this.h()},h(){y(t,"d",n=e[3](e[13])),y(t,"tabindex","0"),y(t,"role","button"),y(t,"aria-label","Select county"),y(t,"class","county svelte-1vzmv3e"),y(t,"stroke","rgb(0 0 0 / 10%)"),y(t,"fill",r=e[4](e[13].id))},m(c,s){j(c,t,s),i||(o=[pe(t,"click",l),pe(t,"keydown",a)],i=!0)},p(c,s){e=c,s&2&&n!==(n=e[3](e[13]))&&y(t,"d",n),s&2&&r!==(r=e[4](e[13].id))&&y(t,"fill",r)},d(c){c&&M(t),i=!1,gt(o)}}}function nu(e){let t,n,r,i,o;function l(){return e[7](e[13])}function a(...c){return e[8](e[13],...c)}return{c(){t=se("path"),this.h()},l(c){t=ce(c,"path",{d:!0,tabindex:!0,role:!0,"aria-label":!0,class:!0}),X(t).forEach(M),this.h()},h(){y(t,"d",n=e[3](e[13])),y(t,"tabindex","0"),y(t,"role","button"),y(t,"aria-label","Select state"),y(t,"class","state")},m(c,s){j(c,t,s),i||(o=[pe(t,"click",l),pe(t,"keydown",a)],i=!0)},p(c,s){e=c,s&1&&n!==(n=e[3](e[13]))&&y(t,"d",n)},i(c){c&&(r||dn(()=>{r=zf(t,y1,{delay:e[15]*50,duration:1e3}),r.start()}))},o:_e,d(c){c&&M(t),i=!1,gt(o)}}}function ru(e){let t,n;return{c(){t=se("path"),this.h()},l(r){t=ce(r,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0}),X(t).forEach(M),this.h()},h(){y(t,"d",n=e[3](e[2])),y(t,"fill","hsl(0 0% 50% / 20%)"),y(t,"stroke","black"),y(t,"stroke-width",2)},m(r,i){j(r,t,i)},p(r,i){i&4&&n!==(n=r[3](r[2]))&&y(t,"d",n)},d(r){r&&M(t)}}}function iu(e){let t=ou(e[2])+"",n;return{c(){n=Je(t)},l(r){n=$e(r,t)},m(r,i){j(r,n,i)},p(r,i){i&4&&t!==(t=ou(r[2])+"")&&St(n,t)},d(r){r&&M(n)}}}function U1(e){let t,n,r,i,o=De(e[1]),l=[];for(let f=0;f<o.length;f+=1)l[f]=tu(eu(e,o,f));let a=De(e[0]),c=[];for(let f=0;f<a.length;f+=1)c[f]=nu($l(e,a,f));let s=e[2]&&ru(e),u=e[2]&&iu(e);return{c(){t=se("svg");for(let f=0;f<l.length;f+=1)l[f].c();n=se("g");for(let f=0;f<c.length;f+=1)c[f].c();s&&s.c(),r=ee(),i=q("div"),u&&u.c(),this.h()},l(f){t=ce(f,"svg",{viewBox:!0});var g=X(t);for(let p=0;p<l.length;p+=1)l[p].l(g);n=ce(g,"g",{fill:!0,stroke:!0});var h=X(n);for(let p=0;p<c.length;p+=1)c[p].l(h);h.forEach(M),s&&s.l(g),g.forEach(M),r=te(f),i=O(f,"DIV",{class:!0});var d=X(i);u&&u.l(d),d.forEach(M),this.h()},h(){y(n,"fill","none"),y(n,"stroke","black"),y(t,"viewBox","0 0 975 610"),y(i,"class","selectedName svelte-1vzmv3e")},m(f,g){j(f,t,g);for(let h=0;h<l.length;h+=1)l[h]&&l[h].m(t,null);H(t,n);for(let h=0;h<c.length;h+=1)c[h]&&c[h].m(n,null);s&&s.m(t,null),j(f,r,g),j(f,i,g),u&&u.m(i,null)},p(f,[g]){if(g&30){o=De(f[1]);let h;for(h=0;h<o.length;h+=1){const d=eu(f,o,h);l[h]?l[h].p(d,g):(l[h]=tu(d),l[h].c(),l[h].m(t,n))}for(;h<l.length;h+=1)l[h].d(1);l.length=o.length}if(g&13){a=De(f[0]);let h;for(h=0;h<a.length;h+=1){const d=$l(f,a,h);c[h]?(c[h].p(d,g),B(c[h],1)):(c[h]=nu(d),c[h].c(),B(c[h],1),c[h].m(n,null))}for(;h<c.length;h+=1)c[h].d(1);c.length=a.length}f[2]?s?s.p(f,g):(s=ru(f),s.c(),s.m(t,null)):s&&(s.d(1),s=null),f[2]?u?u.p(f,g):(u=iu(f),u.c(),u.m(i,null)):u&&(u.d(1),u=null)},i(f){for(let g=0;g<a.length;g+=1)B(c[g])},o:_e,d(f){f&&(M(t),M(r),M(i)),ht(l,f),ht(c,f),s&&s.d(),u&&u.d()}}}function ou(e){const t=e.properties.name,n=e.properties.state;return t&&n?`${t} County, ${n}`:e.properties.name}function L1(e,t,n){Bu().scale(1300).translate([487.5,305]);const r=Wu().projection(null);let i=[],o=[],l,a=[];ia(sh).domain([0,500]),gn(async()=>{const h=await fetch("https://cdn.jsdelivr.net/npm/us-atlas@3/counties-albers-10m.json").then(d=>d.json());a=await rr("/assets/data/4_m4lmap.csv"),n(0,i=Ni(h,h.objects.states).features),n(1,o=Ni(h,h.objects.counties).features),z1(h,h.objects.states,(d,p)=>d!==p)});function c(h){return a.find(p=>p.county_fips===h.toString())?"#007bff":"#fff"}return[i,o,l,r,c,h=>n(2,l=h),(h,d)=>(d.key==="Enter"||d.key===" ")&&n(2,l=h),h=>n(2,l=h),(h,d)=>(d.key==="Enter"||d.key===" ")&&n(2,l=h)]}class F1 extends Se{constructor(t){super(),Me(this,t,L1,U1,ke,{})}}function au(e,t,n){const r=e.slice();return r[20]=t[n],r}function lu(e,t,n){const r=e.slice();return r[20]=t[n],r}function uu(e){let t,n,r,i,o;function l(...s){return e[13](e[20],...s)}function a(){return e[14](e[20])}function c(...s){return e[15](e[20],...s)}return{c(){t=se("path"),this.h()},l(s){t=ce(s,"path",{d:!0,tabindex:!0,role:!0,"aria-label":!0,class:!0,stroke:!0,fill:!0}),X(t).forEach(M),this.h()},h(){var s;y(t,"d",n=e[5](e[20])),y(t,"tabindex","0"),y(t,"role","button"),y(t,"aria-label","Select county"),y(t,"class","county svelte-1q3je14"),y(t,"stroke","rgb(0 0 0 / 10%)"),y(t,"fill",r=(s=e[4].find(l))==null?void 0:s.color)},m(s,u){j(s,t,u),i||(o=[pe(t,"click",a),pe(t,"keydown",c)],i=!0)},p(s,u){var f;e=s,u&1&&n!==(n=e[5](e[20]))&&y(t,"d",n),u&17&&r!==(r=(f=e[4].find(l))==null?void 0:f.color)&&y(t,"fill",r)},d(s){s&&M(t),i=!1,gt(o)}}}function fu(e){let t,n,r,i;function o(){return e[16](e[20])}function l(...a){return e[17](e[20],...a)}return{c(){t=se("path"),this.h()},l(a){t=ce(a,"path",{d:!0,tabindex:!0,role:!0,"aria-label":!0,class:!0}),X(t).forEach(M),this.h()},h(){y(t,"d",n=e[5](e[20])),y(t,"tabindex","0"),y(t,"role","button"),y(t,"aria-label","Select state"),y(t,"class","state")},m(a,c){j(a,t,c),r||(i=[pe(t,"click",o),pe(t,"keydown",l)],r=!0)},p(a,c){e=a,c&2&&n!==(n=e[5](e[20]))&&y(t,"d",n)},d(a){a&&M(t),r=!1,gt(i)}}}function su(e){let t,n;return{c(){t=se("path"),this.h()},l(r){t=ce(r,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0}),X(t).forEach(M),this.h()},h(){y(t,"d",n=e[5](e[2])),y(t,"fill","hsl(0 0% 50% / 20%)"),y(t,"stroke","black"),y(t,"stroke-width",2)},m(r,i){j(r,t,i)},p(r,i){i&4&&n!==(n=r[5](r[2]))&&y(t,"d",n)},d(r){r&&M(t)}}}function cu(e){let t=hu(e[2])+"",n;return{c(){n=Je(t)},l(r){n=$e(r,t)},m(r,i){j(r,n,i)},p(r,i){i&4&&t!==(t=hu(r[2])+"")&&St(n,t)},d(r){r&&M(n)}}}function H1(e){let t,n,r="Total",i,o,l="2021",a,c,s="2022",u,f,g="2023",h,d,p,v,D,S,w,k=De(e[0]),x=[];for(let C=0;C<k.length;C+=1)x[C]=uu(lu(e,k,C));let b=De(e[1]),N=[];for(let C=0;C<b.length;C+=1)N[C]=fu(au(e,b,C));let P=e[2]&&su(e),L=e[2]&&cu(e);return{c(){t=q("div"),n=q("button"),n.textContent=r,i=ee(),o=q("button"),o.textContent=l,a=ee(),c=q("button"),c.textContent=s,u=ee(),f=q("button"),f.textContent=g,h=ee(),d=se("svg");for(let C=0;C<x.length;C+=1)x[C].c();p=se("g");for(let C=0;C<N.length;C+=1)N[C].c();P&&P.c(),v=ee(),D=q("div"),L&&L.c(),this.h()},l(C){t=O(C,"DIV",{class:!0});var T=X(t);n=O(T,"BUTTON",{class:!0,"data-svelte-h":!0}),Fe(n)!=="svelte-16ue5w8"&&(n.textContent=r),i=te(T),o=O(T,"BUTTON",{class:!0,"data-svelte-h":!0}),Fe(o)!=="svelte-1qwb9cx"&&(o.textContent=l),a=te(T),c=O(T,"BUTTON",{class:!0,"data-svelte-h":!0}),Fe(c)!=="svelte-dnqfq9"&&(c.textContent=s),u=te(T),f=O(T,"BUTTON",{class:!0,"data-svelte-h":!0}),Fe(f)!=="svelte-1edk4ll"&&(f.textContent=g),T.forEach(M),h=te(C),d=ce(C,"svg",{viewBox:!0});var R=X(d);for(let _=0;_<x.length;_+=1)x[_].l(R);p=ce(R,"g",{fill:!0,stroke:!0});var A=X(p);for(let _=0;_<N.length;_+=1)N[_].l(A);A.forEach(M),P&&P.l(R),R.forEach(M),v=te(C),D=O(C,"DIV",{class:!0});var z=X(D);L&&L.l(z),z.forEach(M),this.h()},h(){y(n,"class","svelte-1q3je14"),He(n,"active",e[3]==="total"),y(o,"class","svelte-1q3je14"),He(o,"active",e[3]==="2021"),y(c,"class","svelte-1q3je14"),He(c,"active",e[3]==="2022"),y(f,"class","svelte-1q3je14"),He(f,"active",e[3]==="2023"),y(t,"class","year-buttons svelte-1q3je14"),y(p,"fill","none"),y(p,"stroke","black"),y(d,"viewBox","0 0 975 610"),y(D,"class","selectedName svelte-1q3je14")},m(C,T){j(C,t,T),H(t,n),H(t,i),H(t,o),H(t,a),H(t,c),H(t,u),H(t,f),j(C,h,T),j(C,d,T);for(let R=0;R<x.length;R+=1)x[R]&&x[R].m(d,null);H(d,p);for(let R=0;R<N.length;R+=1)N[R]&&N[R].m(p,null);P&&P.m(d,null),j(C,v,T),j(C,D,T),L&&L.m(D,null),S||(w=[pe(n,"click",e[9]),pe(o,"click",e[10]),pe(c,"click",e[11]),pe(f,"click",e[12])],S=!0)},p(C,[T]){if(T&8&&He(n,"active",C[3]==="total"),T&8&&He(o,"active",C[3]==="2021"),T&8&&He(c,"active",C[3]==="2022"),T&8&&He(f,"active",C[3]==="2023"),T&53){k=De(C[0]);let R;for(R=0;R<k.length;R+=1){const A=lu(C,k,R);x[R]?x[R].p(A,T):(x[R]=uu(A),x[R].c(),x[R].m(d,p))}for(;R<x.length;R+=1)x[R].d(1);x.length=k.length}if(T&38){b=De(C[1]);let R;for(R=0;R<b.length;R+=1){const A=au(C,b,R);N[R]?N[R].p(A,T):(N[R]=fu(A),N[R].c(),N[R].m(p,null))}for(;R<N.length;R+=1)N[R].d(1);N.length=b.length}C[2]?P?P.p(C,T):(P=su(C),P.c(),P.m(d,null)):P&&(P.d(1),P=null),C[2]?L?L.p(C,T):(L=cu(C),L.c(),L.m(D,null)):L&&(L.d(1),L=null)},i:_e,o:_e,d(C){C&&(M(t),M(h),M(d),M(v),M(D)),ht(x,C),ht(N,C),P&&P.d(),L&&L.d(),S=!1,gt(w)}}}function hu(e){const t=e.properties.name,n=e.properties.state;return t&&n?`${t} County, ${n}`:e.properties.name}function j1(e,t,n){let r;Bu().scale(1300).translate([487.5,305]);const i=Wu().projection(null);let o=[],l=[],a,c=[],s=null,u="total";const f=ia(hh).domain([0,30]);gn(async()=>{const b=await fetch("https://cdn.jsdelivr.net/npm/us-atlas@3/counties-albers-10m.json").then(N=>N.json());n(7,c=await rr("/assets/data/5_banmap.csv",N=>({...N,year:+N.year,count:+N.count}))),n(1,o=Ni(b,b.objects.states).features),n(0,l=Ni(b,b.objects.counties).features)});function g(b,N){n(8,s=b),n(3,u=N),console.log("Selected Year:",s)}const h=()=>g(null,"total"),d=()=>g(2021,"2021"),p=()=>g(2022,"2022"),v=()=>g(2023,"2023"),D=(b,N)=>N.id===b.id,S=b=>n(2,a=b),w=(b,N)=>(N.key==="Enter"||N.key===" ")&&n(2,a=b),k=b=>n(2,a=b),x=(b,N)=>(N.key==="Enter"||N.key===" ")&&n(2,a=b);return e.$$.update=()=>{e.$$.dirty&385&&n(4,r=l.map(b=>{let N;return s?N=c.find(P=>P.county_fips===b.id.toString()&&+P.year===s):N=c.find(P=>P.county_fips===b.id.toString()),N?{id:b.id,color:f(+N.count)}:{id:b.id,color:"#fff"}}))},[l,o,a,u,r,i,g,c,s,h,d,p,v,D,S,w,k,x]}class I1 extends Se{constructor(t){super(),Me(this,t,j1,H1,ke,{})}}function W1(e){let t,n,r,i,o=`Book bans aren’t new. The act of removing books from public circulation has long been used as a tool to suppress free speech and restrict access to ideas and information that have been determined by some party to be dissenting, inappropriate, or dangerous—conditions that have been applied, often arbitrarily, to any book from The Handmaid’s Tale to Harry Potter.  
		<br/><br/>
		But the recent exponential rise in bans across the nation is surprisingly new. The intense polarization of the early 2020s—marked by deep divisions over the Covid-19 pandemic, racial injustice, abortion access, transgender rights, climate policies, and a charged presidential election—have accelerated efforts to restrict certain political and cultural content from school curriculums and public spaces. Described as “educational gag orders” by PEN America, this censorship movement has particularly targeted books containing themes of race, gender, sex, diversity, and LGBTQ+ issues, thereby silencing critical perspectives and limiting access to diverse voices in literature.  `,l,a,c="Who is driving these book bans?",s,u,f=`While it may be easy to pin them on overly concerned parents or local fringe Facebook groups, our data reveals that the groups behind these bans are far more organized, resourced, and coordinated than previously thought, with links to far-right extremism and major conservative networks. These “parental rights groups”, as they are commonly referred to, have exerted significant influence by endorsing legislation such as Florida’s Don’t Say Gay bill and infiltrating local school boards to block educators from teaching topics like critical race theory and gender identity. In particular, book bans have emerged as a key tactic in efforts to restrict educational content in schools, as various groups increasingly coordinate their evaluation criteria and compile ban lists—some of which have been adopted by school boards as official metrics.  
		<br/><br/>
		While some of these groups have been around since as early as the 1980s, PEN America reported that 70% of those currently in operation were formed in or after 2021.  `,g,h,d="<strong>[Graphic/timeline of rise in book ban groups]</strong>",p,v,D=`But it’s not just the numbers; the organizational power of these groups is also growing. Across the three largest book-banning organizations—Moms for Liberty, No Left Turn in Education, and Parents Defending Education, all of which were founded in 2020 or 2021—we found that their collective revenue nearly doubled after just a year of operation, increasing from $4 million in 2021 to $6.8 million in 2022 altogether.  
		<br/><br/>
		Each group has invested this money in different ways. In 2022, Parents Defending Education, by far the biggest earner among the three, spent one million dollars on employee compensation and benefits and another hefty million on legal fees, which funded lawsuits against various school districts, including one in Massachusetts over the creation of student affinity groups and another in Iowa challenging policies that allowed students to use their preferred names and pronouns. Meanwhile, No Left Turn in Education allocated more than half their 2022 revenue to contract labor.`,S,w,k="<strong>[Graphic of aggregate revenue]</strong>",x,b,N="How Moms for Liberty are spreading",P,L,C,T,R,A,z,_,I;return n=new u1({}),L=new g1({}),T=new D1({}),A=new F1({}),_=new I1({}),{c(){t=q("div"),ie(n.$$.fragment),r=ee(),i=q("p"),i.innerHTML=o,l=ee(),a=q("h2"),a.textContent=c,s=ee(),u=q("p"),u.innerHTML=f,g=ee(),h=q("p"),h.innerHTML=d,p=ee(),v=q("p"),v.innerHTML=D,S=ee(),w=q("p"),w.innerHTML=k,x=ee(),b=q("h2"),b.textContent=N,P=ee(),ie(L.$$.fragment),C=ee(),ie(T.$$.fragment),R=ee(),ie(A.$$.fragment),z=ee(),ie(_.$$.fragment),this.h()},l(Y){t=O(Y,"DIV",{id:!0,class:!0});var W=X(t);oe(n.$$.fragment,W),r=te(W),i=O(W,"P",{"data-svelte-h":!0}),Fe(i)!=="svelte-9i42fu"&&(i.innerHTML=o),l=te(W),a=O(W,"H2",{"data-svelte-h":!0}),Fe(a)!=="svelte-y262ws"&&(a.textContent=c),s=te(W),u=O(W,"P",{"data-svelte-h":!0}),Fe(u)!=="svelte-me86wy"&&(u.innerHTML=f),g=te(W),h=O(W,"P",{"data-svelte-h":!0}),Fe(h)!=="svelte-ofcd02"&&(h.innerHTML=d),p=te(W),v=O(W,"P",{"data-svelte-h":!0}),Fe(v)!=="svelte-125o6p5"&&(v.innerHTML=D),S=te(W),w=O(W,"P",{"data-svelte-h":!0}),Fe(w)!=="svelte-1t259r"&&(w.innerHTML=k),x=te(W),b=O(W,"H2",{"data-svelte-h":!0}),Fe(b)!=="svelte-1rpen37"&&(b.textContent=N),P=te(W),oe(L.$$.fragment,W),C=te(W),oe(T.$$.fragment,W),R=te(W),oe(A.$$.fragment,W),z=te(W),oe(_.$$.fragment,W),W.forEach(M),this.h()},h(){y(t,"id","page"),y(t,"class","svelte-k25we1")},m(Y,W){j(Y,t,W),ae(n,t,null),H(t,r),H(t,i),H(t,l),H(t,a),H(t,s),H(t,u),H(t,g),H(t,h),H(t,p),H(t,v),H(t,S),H(t,w),H(t,x),H(t,b),H(t,P),ae(L,t,null),H(t,C),ae(T,t,null),H(t,R),ae(A,t,null),H(t,z),ae(_,t,null),I=!0},p:_e,i(Y){I||(B(n.$$.fragment,Y),B(L.$$.fragment,Y),B(T.$$.fragment,Y),B(A.$$.fragment,Y),B(_.$$.fragment,Y),I=!0)},o(Y){Z(n.$$.fragment,Y),Z(L.$$.fragment,Y),Z(T.$$.fragment,Y),Z(A.$$.fragment,Y),Z(_.$$.fragment,Y),I=!1},d(Y){Y&&M(t),le(n),le(L),le(T),le(A),le(_)}}}let Y1=class extends Se{constructor(t){super(),Me(this,t,null,W1,ke,{})}};const q1=[{section:"intro",content:[{type:"h4",value:"An h4 element with no attributes"},{type:"text",value:"Hello! This is a test on book bans"},{type:"img",value:{src:"assets/demo/test.jpg",alt:"A cat"}},{type:"text",value:"Hello! This is a test on book bans. Check back here for more"},{type:"Test",value:{label:"hello?",value:"50"}}]}],gu={body:q1};function O1(e){let t,n,r,i;return t=new If({}),r=new Y1({}),{c(){ie(t.$$.fragment),n=ee(),ie(r.$$.fragment)},l(o){oe(t.$$.fragment,o),n=te(o),oe(r.$$.fragment,o)},m(o,l){ae(t,o,l),j(o,n,l),ae(r,o,l),i=!0},p:_e,i(o){i||(B(t.$$.fragment,o),B(r.$$.fragment,o),i=!0)},o(o){Z(t.$$.fragment,o),Z(r.$$.fragment,o),i=!1},d(o){o&&M(n),le(t,o),le(r,o)}}}class B1 extends Se{constructor(t){super(),Me(this,t,null,O1,ke,{})}}function G1(){console.log("--- --- --- --- --- ---"),console.log("svelte-starter: 5.23.0"),console.log("build: 2024-10-21-14:55"),console.log("--- --- --- --- --- ---")}function V1(e){let t,n,r,i;return t=new Hf({props:{title:e[1],description:e[2],url:e[3],preloadFont:e[0],keywords:e[4]}}),r=new B1({}),{c(){ie(t.$$.fragment),n=ee(),ie(r.$$.fragment)},l(o){oe(t.$$.fragment,o),n=te(o),oe(r.$$.fragment,o)},m(o,l){ae(t,o,l),j(o,n,l),ae(r,o,l),i=!0},p:_e,i(o){i||(B(t.$$.fragment,o),B(r.$$.fragment,o),i=!0)},o(o){Z(t.$$.fragment,o),Z(r.$$.fragment,o),i=!1},d(o){o&&M(n),le(t,o),le(r,o)}}}function Z1(e,t,n){let{data:r}=t;G1();const i=["https://pudding.cool/assets/fonts/tiempos/TiemposTextWeb-Regular.woff2","https://pudding.cool/assets/fonts/tiempos/TiemposTextWeb-Bold.woff2","https://pudding.cool/assets/fonts/atlas/AtlasGrotesk-Regular-Web.woff2","https://pudding.cool/assets/fonts/atlas/AtlasGrotesk-Bold-Web.woff2"],{title:o,description:l,url:a,keywords:c}=gu;return vo("copy",gu),vo("data",r.data),e.$$set=s=>{"data"in s&&n(5,r=s.data)},[i,o,l,a,c,r]}class ng extends Se{constructor(t){super(),Me(this,t,Z1,V1,ke,{data:5})}}export{ng as component};
